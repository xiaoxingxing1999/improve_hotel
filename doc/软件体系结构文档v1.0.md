# 1. 酒店预订系统(HRMS)软件体系结构文档

<!-- TOC -->

- [1. 酒店预订系统(HRMS)软件体系结构文档](#1-酒店预订系统hrms软件体系结构文档)
- [2. 文档修改历史](#2-文档修改历史)
- [3. 引言](#3-引言)
	- [3.1. 编制目的](#31-编制目的)
	- [3.2. 词汇表](#32-词汇表)
	- [3.3. 参考资料](#33-参考资料)
- [4. 产品概述](#4-产品概述)
- [5. 逻辑视图](#5-逻辑视图)
- [6. 组合视角](#6-组合视角)
	- [6.1. 开发包图](#61-开发包图)
	- [6.2. 运行时进程](#62-运行时进程)
	- [6.3. 物理部署](#63-物理部署)
- [7. 架构设计](#7-架构设计)
	- [7.1. 模块职责](#71-模块职责)
	- [7.2. 用户界面层分解](#72-用户界面层分解)
		- [7.2.1. 职责](#721-职责)
		- [7.2.2. 接口规范](#722-接口规范)
	- [7.3. 业务逻辑层分解](#73-业务逻辑层分解)
		- [7.3.1. 职责](#731-职责)
		- [7.3.2. 接口规范](#732-接口规范)
			- [7.3.2.1. Coupon模块的接口规范](#7321-coupon模块的接口规范)
			- [7.3.2.2. BizRegion模块](#7322-bizregion模块)
			- [7.3.2.3. HotelEdit模块](#7323-hoteledit模块)
			- [7.3.2.4. HotelRoom模块](#7324-hotelroom模块)
			- [7.3.2.5. HotelServe模块](#7325-hotelserve模块)
			- [7.3.2.6. Hotel模块](#7326-hotel模块)
			- [7.3.2.7. RoomType模块](#7327-roomtype模块)
			- [7.3.2.8. Bill模块](#7328-bill模块)
			- [7.3.2.9. Comment模块](#7329-comment模块)
			- [7.3.2.10. Order模块](#73210-order模块)
			- [7.3.2.11. Reply模块](#73211-reply模块)
			- [7.3.2.12. User模块](#73212-user模块)
			- [7.3.2.13. Client模块](#73213-client模块)
			- [7.3.2.14. HotelManager模块](#73214-hotelmanager模块)
			- [7.3.2.15. SiteMarket模块](#73215-sitemarket模块)
			- [7.3.2.16. Manager模块](#73216-manager模块)
			- [7.3.2.17. HotelSituation模块](#73217-hotelsituation模块)
			- [7.3.2.18. Situation模块](#73218-situation模块)
			- [7.3.2.19. Upload模块](#73219-upload模块)
	- [7.4. 数据层分解](#74-数据层分解)
		- [7.4.1. 职责](#741-职责)
		- [7.4.2. 接口规范](#742-接口规范)
			- [7.4.2.1. BillMapper模块](#7421-billmapper模块)
			- [7.4.2.2. CouponMapper模块](#7422-couponmapper模块)
			- [7.4.2.3. BizRegionMapper模块](#7423-bizregionmapper模块)
			- [7.4.2.4. HotelEditMapper模块](#7424-hoteleditmapper模块)
			- [7.4.2.5. HotelMapper模块](#7425-hotelmapper模块)
			- [7.4.2.6. HotelServeMapper模块](#7426-hotelservemapper模块)
			- [7.4.2.7. RoomMapper模块](#7427-roommapper模块)
			- [7.4.2.8. RoomTypeMapper模块](#7428-roomtypemapper模块)
			- [7.4.2.9. Comment模块](#7429-comment模块)
			- [7.4.2.10. OrderMapper模块](#74210-ordermapper模块)
			- [7.4.2.11. ReplyMapper模块](#74211-replymapper模块)
			- [7.4.2.12. UserMapper模块](#74212-usermapper模块)
			- [7.4.2.13. HotelSituationMapper模块](#74213-hotelsituationmapper模块)
	- [7.5. 信息视角](#75-信息视角)
		- [7.5.1. Bill类](#751-bill类)
		- [7.5.2. Coupon类](#752-coupon类)
		- [7.5.3. BizRegion类](#753-bizregion类)
		- [7.5.4. Hotel类](#754-hotel类)
		- [7.5.5. HotelEdit类](#755-hoteledit类)
		- [7.5.6. HotelRoom类](#756-hotelroom类)
		- [7.5.7. HotelServe类](#757-hotelserve类)
		- [7.5.8. RoomType类](#758-roomtype类)
		- [7.5.9. Comment类](#759-comment类)
		- [7.5.10. HotelOrder类](#7510-hotelorder类)
		- [7.5.11. Reply类](#7511-reply类)
		- [7.5.12. User类](#7512-user类)
		- [7.5.13. HotelSituation类](#7513-hotelsituation类)

<!-- /TOC -->

# 2. 文档修改历史

| 修改人员 | 日期           | 修改原因                                 | 版本号 |
| :------: | -------------- | ---------------------------------------- | ------ |
|  张洪胤  | 2020年04月12日 | 创建了软件体系结构文档                   | V1.0   |
|   张越   | 2020年04月19日 | 新增了6.2、6.3和7.1                      | V1.0   |
|  薛宗耀  | 2020年04月21日 | 更新了用户界面分解                       | V1.0   |
|  周也丁  | 2020年04月22日 | 更新了数据层分解                         | V1.0   |
|   张越   | 2020年04月25日 | 调整了用户界面层的部分图解               | V1.0   |
|  张洪胤  | 2020年04月25日 | 调整部分细节，完成第一版软件体系结构文档 | V1.0   |
|  薛宗耀  | 2020年06月27日 | 根据用例文档和需求规格说明文档，调整了自己负责部分对应的文档 | V1.0   |
|  周也丁  | 2020年06月28日 | 根据用例文档和需求规格说明文档，调整了自己负责部分对应的文档 | V1.0   |
|   张越   | 2020年06月28日 | 根据用例文档和需求规格说明文档，调整了自己负责部分对应的文档 | V1.0   |
|  张洪胤  | 2020年06月29日     | 根据用例文档和需求规格说明文档，调整了自己负责部分对应的文档，并且最终完成了本文档的检查                       | V1.0   |

# 3. 引言

## 3.1. 编制目的
1. 本文档详细完成了对互联网酒店预订系统的概要设计，达到指导详细设计和开发的目的，同时实现和测试人员及用户的沟通
2. 本报告面向开发人员、测试人员及最终用户而编写，是了解系统的导航。

## 3.2. 词汇表
| 词汇名称 | 词汇含义         | 备注 |
| :------: | ---------------- | ---- |
|   HRMS   | 酒店预订管理系统 |      |

## 3.3. 参考资料
1. IEEE标准
2. 酒店预订系统用例描述文档V1.0
3. 酒店预订系统软件需求规格说明文档V1.0

# 4. 产品概述
1. 参考互联网酒店预订系统用例描述文档和酒店预订系统需求规格说明文档中对产品的概括描述。

# 5. 逻辑视图
- 在互联网酒店预订系统中，选择了分层体系结构风格，将系统分为3层(展示层、业务逻辑层、数据层)能够很好地示意整个高层抽象。展示层包含GUI页面的实现，业务逻辑层包含业务逻辑处理的实现，数据层负责数据的持久化和访问。分层体系结构的了逻辑视图和逻辑设计方案如下图所示。

- 参照体系结构风格的包图表达逻辑视角

![](https://s1.ax1x.com/2020/04/19/JKQWkt.png)

- 软件体系结构逻辑设计方案

[![t6orIe.png](https://s1.ax1x.com/2020/06/06/t6orIe.png)](https://imgchr.com/i/t6orIe)

# 6. 组合视角

## 6.1. 开发包图
| 开发包                 | 依赖的其他开发包                                                                                                                             |
| ---------------------- | -------------------------------------------------------------------------------------------------------------------------------------------- |
| mainui                 | userUi,adminUi,SiteMarketUi,hotelManagerUi,clientUi,util                                                                                     |
| adminUi                | store,util                                                                                                                                   |
| SiteMarketUi           | store,util                                                                                                                                   |
| hotelManagerUi         | store,util                                                                                                                                   |
| clientUi               | store,util                                                                                                                                   |
| userUi                 | store,util                                                                                                                                   |
| util                   |                                                                                                                                              |
| store                  | util,adminModule,siteMarketModule,hotelManagerModule,clientModule,userModule,hotelModule,couponModule                                        |
| adminModule            | adminApi                                                                                                                                     |
| siteMarketModule       | siteMarketApi                                                                                                                                |
| hotelManagerModule     | hotelManagerApi                                                                                                                              |
| clientModule           | clientApi                                                                                                                                    |
| userModule             | userApi                                                                                                                                      |
| hotelModule            | hotelApi                                                                                                                                     |
| couponModule           | couponApi                                                                                                                                    |
| adminApi               | HTTP                                                                                                                                         |
| siteMarketApi          | HTTP                                                                                                                                         |
| couponApi              | HTTP                                                                                                                                         |
| hotelApi               | HTTP                                                                                                                                         |
| clientApi              | HTTP                                                                                                                                         |
| hotelManagerApi        | HTTP                                                                                                                                         |
| userApi                | HTTP                                                                                                                                         |
| HTTP                   |                                                                                                                                              |
| Hotelcontroller        | HTTP,HotelService                                                                                                                            |
| CouponController       | HTTP,CouponService                                                                                                                           |
| ManagerController      | HTTP,HotelManagerService                                                                                                                     |
| ClientController       | HTTP,ClientService                                                                                                                           |
| HotelManagerController | HTTP,HotelManagerService                                                                                                                     |
| SiteMarketController   | HTTP,SiteMarketService                                                                                                                       |
| UserController         | HTTP,UserService                                                                                                                             |
| blutility              |                                                                                                                                              |
| CouponService          | CouponMapper, HotelService,blutility                                                                                                         |
| BizRegionService       | BizRegionMapper,blutility                                                                                                                    |
| HotelEditService       | HotelEditMapper, HotelService,blutility                                                                                                      |
| HotelRoomService       | RoomMapper, RoomTypeService,blutility                                                                                                        |
| HotelServeService      | HotelServeMapper,blutility                                                                                                                   |
| HotelService           | HotelMaper, UserService, HotelRoomService,commentService,orderService,BizRegionService,blutility                                             |
| HotelSituationService  | HotelSituationMapper, HotelService, boutility                                                                                                |
| RoomTypeService        | RoomTypeMapper,blutility                                                                                                                     |
| ClientService          | UserService, OrderService, CommentService, CouponService, BillService,HotelService,blutility                                                 |
| HotelManagerService    | OrderService, HotelService, HotelRoomService, HotelEditService, CouponService, HotelServeService, RoomTypeService,situationService,blutility |
| ManagerService         | UserService, HotelService, HotelEditService,blutility                                                                                        |
| SiteMarketService      | UserService, BizRegionService, BillService,situationService,couponService, blutility                                                         |
| BillService            | BillMapper,blutility                                                                                                                         |
| CommentService         | CommentMapper,replyService,userService,blutility                                                                                             |
| SituationService       | orderService, hotelService, hotelSituationService, userService,blutility                                                                     |
| OrderService           | OrderMapper,userService,hotelRoomService,billService,hotelService,hotelSituationService,blutility                                            |
| ReplyService           | ReplyMapper,CommentService, userService,blutility                                                                                            |
| UserService            | UserMapper, BizRegionService, CommentService, ReplyService,hotelService,blutility                                                            |
| CouponMapper           | po                                                                                                                                           |
| OrderMapper            | po                                                                                                                                           |
| RoomTypeMapper         | po                                                                                                                                           |
| CommentMapper          | po                                                                                                                                           |
| RoomMapper             | po                                                                                                                                           |
| HotelServeMapper       | po                                                                                                                                           |
| UserMapper             | po                                                                                                                                           |
| ReplyMapper            | po                                                                                                                                           |
| BillMapper             | po                                                                                                                                           |
| HotelEditMapper        | po                                                                                                                                           |
| HotelEditMapper        | po                                                                                                                                           |
| HotelSituationMapper   | po                                                                                                                                           |
| HotelMapper            | po                                                                                                                                           |
| CouponData             | po,CouponMapper                                                                                                                              |
| OrderData              | po,OrderMapper                                                                                                                               |
| RoomTypeData           | po,RoomTypeMapper                                                                                                                            |
| CommentData            | po,CommentMapper                                                                                                                             |
| RoomData               | po,RoomMapper                                                                                                                                |
| HotelServeData         | po,HotelServeMapper                                                                                                                          |
| UserData               | po,UserMapper                                                                                                                                |
| ReplyData              | po,ReplyMapper                                                                                                                               |
| BillData               | po,BillMapper                                                                                                                                |
| HotelEditData          | po,HotelEditMapper                                                                                                                           |
| BizRegionData          | po,HotelEditMapper                                                                                                                           |
| HotelData              | po,HotelMapper                                                                                                                               |
| HotelSituationData     | po, HotelSituationMapper                                                                                                                     |
| databaseutility        |                                                                                                                                              |
| vo                     |                                                                                                                                              |
| po                     |                                                                                                                                              |

- 客户端开发包图

![tMx91I.png](https://s1.ax1x.com/2020/05/30/tMx91I.png)

- 服务器端开发包图

![JUVdK0.png](https://software3.oss-cn-beijing.aliyuncs.com/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%BC%80%E5%8F%91%E5%8C%85%E5%9B%BE.png)

## 6.2. 运行时进程

- 在酒店预订系统中，会有多个网页端进程和一个服务器端进程，其进程图如下图。结合部署图，网页端进程是在浏览器上运行，服务器端进行再服务器端机器上运行。

![](https://s1.ax1x.com/2020/04/25/JyXADf.png)


## 6.3. 物理部署
- 酒店预订酒店系统中的网页端组件放在客户端机器上，服务器端组件都是放在服务器端机器上。由于Java RMI构建属于JDK的一部分，所以，在系统JDK环境已经设置好的情况下，不需要再单独进行部署。

![](https://s1.ax1x.com/2020/04/25/JyX8bT.png)

# 7. 架构设计

## 7.1. 模块职责

- 网页端模块和服务器端模块视图分别如下两张图所示（依次对应上下两张）。
  - 网页端模块视图

![](https://s1.ax1x.com/2020/04/25/JyXcIe.png)

  - 服务器端模块视图

![](https://s1.ax1x.com/2020/04/25/JyXRGd.png)

- 客户端各层职责

|       层       | 职责                                 |
| :------------: | ------------------------------------ |
|    启动模块    | 负责初始化网络通信机制，启动用户界面 |
|   用户界面层   | 基于Web界面的酒店预订系统的界面      |
| 客户端网络模块 | 利用 Rest API 机制发起HTTP请求       |

- 服务器端各层职责

|       层       | 职责                                         |
| :------------: | -------------------------------------------- |
|    启动模块    | 负责初始化网络通信机制，启动用户界面         |
|   业务逻辑层   | 对于用户界面输入的进行响应并进行业务处理逻辑 |
|     数据层     | 负责数据的持久化和数据访问接口               |
| 服务端网络模块 | 接受客户端的HTTP请求                         |

- 层之间调用接口

|                                                                                                                                                                              接口                                                                                                                                                                              | 服务调用方       | 服务提供方       |
| :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: | ---------------- | ---------------- |
|                                                                                              ClientController<br>HotelManagerController<br>ManagerController<br>SiteMarketController<br>CouponController<br>HotelController<br>UploadController<br>UserController                                                                                              | 客户端展示层     | 客户端业务逻辑层 |
| CouponService<br>BizRegionService<br>HotelEditService<br>HotelRoomService<br>HotelServeService<br>HotelService<br>HotelSituationService<br>RoomTypeService<br>OrderService<br>SituationService<br>ClientService<br>HotelManagerService<br>ManagerService<br>SiteMarketService<br>BillService<br>CommentService<br>ReplyService<br>UploadSerivce<br>UserService | 客户端业务逻辑层 | 服务端数据层     |

## 7.2. 用户界面层分解

### 7.2.1. 职责
- 用户界面跳转图

| 模块         | 职责                     |
| ------------ | ------------------------ |
| admin        | 负责展示网站管理人员界面 |
| siteMarket   | 负责展示网站营销人员界面 |
| hotelManager | 负责展示酒店工作人员界面 |
| client       | 负责展示客户界面         |
| user         | 负责展示登陆、注册界面   |
| hotel        | 负责酒店界面展示         |
| coupon       | 负责优惠策略展示         |

### 7.2.2. 接口规范

+ admin模块

| 接口名称           | 请求方法 | 路径                       | 内容                     |
| ------------------ | -------- | -------------------------- | ------------------------ |
| checkHotelEditAPI  | POST     | /api/admin/checkHotelEdit  | 审核酒店信息修改申请     |
| addManagerAPI      | POST     | /api/admin/addManager      | 添加酒店工作人员         |
| addHotelAPI        | POST     | /api/admin/addHotel        | 添加酒店信息             |
| getAllHotelEditAPI | GET      | /api/admin/getAllHotelEdit | 查看所有酒店信息修改申请 |
| getManagerListAPI  | GET      | /api/admin/getAllManagers  | 获取所有酒店工作人员信息 |

+ siteMarket模块

| 接口名称         | 请求方法 | 路径                          | 内容                         |
| ---------------- | -------- | ----------------------------- | ---------------------------- |
| getAllCouponsAPI | GET      | /api/siteMarket/getAllCoupons | 网站营销人员查看所有的优惠券 |
| addCreditAPI     | POST     | /api/siteMarket/addCredit     | 网站营销人员为用户充值       |
| bizRegionAPI     | POST     | /api/siteMarket/bizRegion     | 网站营销人员新建商圈         |
| getAllBillsAPI   | GET      | /api/siteMarket/getAllBills   | 网站营销人员查看所有的账单   |
| situationAPI     | GET      | /api/siteMarket/situation     | 网站管理人员查看网站经营情况 |

+ hotelManager模块

| 接口名称           | 请求方法 | 路径                              | 内容                             |
| ------------------ | -------- | --------------------------------- | -------------------------------- |
| addRoomAPI         | POST     | /api/hotelManager/addRoom         | 酒店工作人员添加房间信息         |
| addRoomTypeAPI     | POST     | /api/hotelManager/addRoomType     | 酒店工作人员新建房间类型         |
| addServeAPI        | POST     | /api/hotelManager/addServe        | 酒店工作人员添加酒店服务         |
| checkEditAPI       | GET      | /api/hotelManager/checkEdit       | 酒店工作人员查看酒店信息修改情况 |
| confirmAPI         | POST     | /api/hotelManager/confirm         | 酒店工作人员处理订单             |
| delRoomAPI         | POST     | /api/hotelManager/delRoom         | 酒店工作人员删除房间             |
| editHotelAPI       | POST     | /api/hotelManager/editHotel       | 酒店工作人员维护酒店基本信息     |
| getAllRoomTypeAPI  | GET      | /api/hotelManager/getAllRoomType  | 酒店工作人员查看所有房间类型     |
| getAllServeAPI     | GET      | /api/hotelManager/getAllServe     | 酒店工作人员拉取全部的酒店服务   |
| getHotelOrdersAPI  | GET      | /api/hotelManager/getHotelOrders  | 酒店工作人员获取酒店所有订单信息 |
| hotelAllCouponsAPI | GET      | /api/hotelManager/hotelAllCoupons | 获取酒店所有优惠券信息           |
| hotelSituationAPI  | GET      | /api/hotelManager/hotelSituation  | 酒店工作人员查看酒店经营情况     |
| getHotelInfoAPI    | GET      | /hotelManager/getHotelInfo        | 酒店工作人员获取所属酒店信息     |


+ client模块

| 接口名称             | 请求方法 | 路径                          | 内容                     |
| -------------------- | -------- | ----------------------------- | ------------------------ |
| addOrderAPI          | POST     | /api/client/addOrder          | 客户发起订单             |
| annulOrderAPI        | POST     | /api/client/annulOrder        | 客户撤销对应订单         |
| checkInAPI           | POST     | /api/client/checkIn           | 客户登记VIP信息          |
| commentAPI           | POST     | /api/client/comment           | 客户评价订单             |
| editOrderAPI         | POST     | /api/client/editOrder         | 客户修改订单信息         |
| getMyBillsAPI        | GET      | /api/client/getMyBills        | 查看我自己所有的bill     |
| getUserOrdersAPI     | GET      | /api/client/getUserOrders     | 客户获取自己订单信息     |
| orderMatchCouponsAPI | GET      | /api/client/orderMatchCoupons | 获取所有匹配订单的优惠券 |
| registerAPI          | POST     | /api/client/register          | 客户注册                 |

+ user模块

| 接口名称            | 请求方法 | 路径                       | 内容                                               |
| ------------------- | -------- | -------------------------- | -------------------------------------------------- |
| addAPI              | POST     | /api/user/add              | 所有用户回复订单评价                               |
| uploadFileAPI       | POST     | /api/user/upload           | 所有用户上传文件                                   |
| deleteFileAPI       | POST     | /api/user/delete           | 所有用户删除已经上传的文件                         |
| getHotelCommentsAPI | GET      | api/user/getHotelComments  | 所有用户查看自己的回复                             |
| getAllServeAPI      | GET      | api/user/getAllServe       | 所有用户查看所有服务类型                           |
| changePwdAPI        | POST     | /api/user/changePwd        | 所有用户修改密码                                   |
| getAllRepliesAPI    | GET      | /api/user/getAllReplies    | 所有角色获取订单的Comment的10条评论(不分一二级别） |
| getBizRegionsAPI    | GET      | /api/user/getBizRegions    | 所有用户查看商圈信息                               |
| getMyReplyAPI       | GET      | /api/user/getMyReply       | 用户查看自己的回复                                 |
| getOrderCommentsAPI | GET      | /api/user/getOrderComments | 用户查看订单的评价                                 |
| getReplyReplyAPI    | GET      | /api/user/getReplyReply    | 拉取一个回复的回复(二级回复)                       |
| getUserInfoAPI      | GET      | /api/user/getUserInfo      | 所有用户获取用户信息                               |
| loginAPI            | POST     | /api/user/login            | 所有用户获取登陆验证结果                           |
| updateUserInfoAPI   | POST     | /api/user/update           | 所有用户修改用户信息                               |

+ hotel模块

| 接口名称        | 请求方法 | 路径              | 内容                       |
| --------------- | -------- | ----------------- | -------------------------- |
| getAllHotelsAPI | GET      | /api/hotel/all    | 获取所有酒店信息           |
| getHotelByIdAPI | GET      | /api/hotel/detail | 获取对应ID的酒店的详细信息 |
| searchHotelAPI  | GET      | /api/hotel/search | 酒店高级搜索               |

+ coupon模块

| 接口名称            | 请求方法 | 路径                         | 内容                                  |
| ------------------- | -------- | ---------------------------- | ------------------------------------- |
| birthdayAPI         | POST     | /api/coupon/birthday         | 添加新的生日策略                      |
| hotelTargetMoneyAPI | POST     | /api/coupon/hotelTargetMoney | 添加新的满减优惠策略                  |
| roomAPI             | POST     | /api/coupon/room             | 添加新的多间优惠策略                  |
| timeAPI             | POST     | /api/coupon/time             | 添加新的限时优惠策略                  |
| unableAPI           | POST     | /api/coupon/unable           | 网站营销人员/酒店管理人员失效优惠策略 |



## 7.3. 业务逻辑层分解

- 类图

![](https://software3.oss-cn-beijing.aliyuncs.com/%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E5%B1%82%E5%88%86%E8%A7%A3%E7%B1%BB%E5%9B%BE.png)

### 7.3.1. 职责

| 模块         | 职责                                     |
| ------------ | ---------------------------------------- |
| Coupon       | 负责实现对应于优惠券界面所需要的服务     |
| Hotel        | 负责实现对应于酒店界面所需要的服务       |
| HotelEdit    | 负责实现对应酒店信息修改功能所需要的模块 |
| HotelServe   | 负责实现对应酒店服务功能所需要的模块     |
| HotelRoom    | 负责实现对应酒店房间服务所需要的模块     |
| BizRegion    | 负责实现对应商圈服务所需要的模块         |
| RoomType     | 负责实现对应房间类型服务所需要的模块     |
| Order        | 负责实现对应订单服务所需要的模块         |
| user         | 负责实现对应通用用户操作所需要的模块     |
| comment      | 负责实现对应用户评价订单功能所需要的模块 |
| reply        | 负责实现对应用户回复订单评价所需要的模块 |
| bill         | 负责实现对应账单服务所需要的模块         |
| client       | 负责实现对应客户界面所需要的模块         |
| hotelManager | 负责实现对应酒店工作人员界面所需要的模块 |
| siteManager  | 负责实现对应网站营销人员界面所需要的模块 |
| manager      | 负责实现对应网站管理人员所需要的模块     |

### 7.3.2. 接口规范

#### 7.3.2.1. Coupon模块的接口规范
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">Coupon.getMatchOrderCoupon</td>
	<tr><td>语法</td><td>List< Coupon> getMatchOrderCoupon(Order order);</td></tr>
	<tr><td>前置条件</td><td>订单信息输入合法</td></tr>
	<tr><td>后置条件</td><td>和当前所有的策略比对，返回所有匹配的优惠券。</td></tr>

  <td rowspan="4">Coupon.getHotelAllCoupon</td>
	<tr><td>语法</td><td>List< Coupon> getHotelAllCoupon(Integer hotelId);</td></tr>
	<tr><td>前置条件</td><td>酒店的ID符合输入规则</td></tr>
	<tr><td>后置条件</td><td>根据酒店ID返回某个酒店提供的所有优惠策略</td></tr>

  <td rowspan="4">Coupon.getSiteAllCoupon</td>
	<tr><td>语法</td><td>List< Coupon> getSiteAllCoupon();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>返回所有的全站优惠策略</td></tr>

  <td rowspan="4">Coupon.addHotelTargetMoneyCoupon</td>
	<tr><td>语法</td><td>boolean addHotelTargetMoneyCoupon(TargetMoneyCoupon targetMoneyCoupon);</td></tr>
	<tr><td>前置条件</td><td>优惠策略输入符合规则,策略制定者权限匹配优惠策略权限</td></tr>
	<tr><td>后置条件</td><td>将新的优惠策略记录在系统中</td></tr>

  <td rowspan="4">Coupon.addTimeCoupon</td>
	<tr><td>语法</td><td>boolean addTimeCoupon(TimeCoupon timeCoupon);</td></tr>
	<tr><td>前置条件</td><td>优惠策略输入符合规则,策略制定者权限匹配优惠策略权限</td></tr>
	<tr><td>后置条件</td><td>将新的优惠策略记录在系统中</td></tr>

  <td rowspan="4">Coupon.addBirthdayCoupon</td>
	<tr><td>语法</td><td>boolean addBirthdayCoupon(BirthdayCoupon birthdayCoupon);</td></tr>
	<tr><td>前置条件</td><td>优惠策略输入符合规则,策略制定者权限匹配优惠策略权限</td></tr>
	<tr><td>后置条件</td><td>将新的优惠策略记录在系统中</td></tr>

  <td rowspan="4">Coupon.addRoomCoupon</td>
	<tr><td>语法</td><td>boolean addRoomCoupon(RoomCoupon roomCoupon);</td></tr>
	<tr><td>前置条件</td><td>优惠策略输入符合规则,策略制定者权限匹配优惠策略权限</td></tr>
	<tr><td>后置条件</td><td>将新的优惠策略记录在系统中</td></tr>
	
  <td rowspan="4">Coupon.unableCoupon</td>
	<tr><td>语法</td><td>boolean unableCoupon(String token, Integer couponId);</td></tr>
	<tr><td>前置条件</td><td>优惠策略存在，操作者权限匹配优惠策略权限</td></tr>
	<tr><td>后置条件</td><td>数据库无效化对应优惠策略</td></tr>

  <td rowspan="4">CouponMapper.getAllCoupon</td>
	<tr><td>语法</td><td>List< coupon> getAllCoupon();</td></tr>
	<tr><td>前置条件</td><td>网站营销人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统返回所有优惠券信息</td></tr>

<td rowspan="4">CouponMapper.addCoupon</td>
	<tr><td>语法</td><td>boolean addCoupon(coupon coupon);</td></tr>
	<tr><td>前置条件</td><td>网站营销人员或酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统添加对应优惠策略</td></tr>

<td rowspan="4">CouponMapper.findById</td>
	<tr><td>语法</td><td>coupon findById(Integer couponId);</td></tr>
	<tr><td>前置条件</td><td>网站营销人员或酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统查找对应优惠券ID的优惠券</td></tr>

<td rowspan="4">CouponMapper.identity</td>
	<tr><td>语法</td><td>boolean identity(String token, Integer hotelID);</td></tr>
	<tr><td>前置条件</td><td>网站营销人员或酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统鉴定操作人员维护优惠券的权限</td></tr>

</table>

<table>
	<tr><th colspan = "2">需要的服务(需接口)</th></tr>
	<tr><td>服务名</td><td>服务</td></tr>
	<tr><td>CouponMapper.selectByHotelId(Integer hotelId)</td><td>在数据库中根据酒店ID查找其提供的优惠策略</td></tr>
	<tr><td>CouponMapper.selectBySite</td><td>在数据库中查找全站的优惠策略</td></tr>
	<tr><td>CouponMapper.updateStatus(Integer id, CouponStatus status)</td><td>数据库中更新对应ID的优惠券的状态</td></tr>
	<tr><td>CouponMapper.save(Coupon coupon)</td><td>在数据库中插入优惠策略</td></tr>
	<tr><td>CouponMapper.selectById(Integer id)</td><td>在数据库中通过ID查找优惠策略</td></tr>
	<tr><td>HotelService.findByManagerId(Integer managerId)</td><td>在数据库中通过酒店工作人员ID查找酒店ID</td></tr>
    <tr><td>HotelService.findById(Integer hotelId)</td><td>在数据库中通过酒店ID查找酒店</td></tr>
    <tr><td>couponMapper.findAll()</td><td>返回所有的优惠券</td></tr>   
</table>


#### 7.3.2.2. BizRegion模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">BizRegion.addBizRegion</td>
	<tr><td>语法</td><td>boolean addBizRegion(BizRegion bizRegion);</td></tr>
	<tr><td>前置条件</td><td>新增商圈不与已有商圈重名</td></tr>
	<tr><td>后置条件</td><td>将新商圈记录在系统中</td></tr>

  <td rowspan="4">BizRegion.findByName</td>
	<tr><td>语法</td><td>BizRegion findByName(String name);</td></tr>
	<tr><td>前置条件</td><td>商圈名存在</td></tr>
	<tr><td>后置条件</td><td>根据商圈名返回对应商圈</td></tr>

  <td rowspan="4">BizRegion.findAllBizRegions</td>
	<tr><td>语法</td><td>List< BizRegion> findAllBizRegions();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>返回系统中所有现存商圈</td></tr>

</table>
<table>
  <tr><th colspan = "2">需要的服务(需接口)</th></tr>
	<tr><td>服务名</td><td>服务</td></tr>
	<tr><td>BizRegionMapper..save(BizRegion bizRegion)</td><td>数据库插入新的商圈</td></tr>
	<tr><td>BizRegionMapper.findByName(String name)</td><td>数据库通过商圈名查找商圈</td></tr>
	<tr><td>BizRegionMapper.findAllNames()</td><td>数据库查找所有商圈</td></tr>
</table>

#### 7.3.2.3. HotelEdit模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">HotelEdit.addHotelEdit</td>
	<tr><td>语法</td><td>boolean addHotelEdit(HotelEdit hotelEdit);</td></tr>
	<tr><td>前置条件</td><td>酒店信息修改申请的信息合法</td></tr>
	<tr><td>后置条件</td><td>系统记录酒店信息修改申请</td></tr>

  <td rowspan="4">HotelEdit.checkHotelEdit</td>
	<tr><td>语法</td><td>boolean checkHotelEdit(HotelEditStatus status, String replyContent, Integer id);</td></tr>
	<tr><td>前置条件</td><td>对应ID的酒店信息修改申请存在</td></tr>
	<tr><td>后置条件</td><td>系统更新酒店信息修改申请（状态和回复）和对应酒店信息</td></tr>

  <td rowspan="4">HotelEdit.findById</td>
	<tr><td>语法</td><td>HotelEdit findById(Integer hotelEditId);</td></tr>
	<tr><td>前置条件</td><td>对应ID的酒店信息修改申请存在</td></tr>
	<tr><td>后置条件</td><td>返回对应ID的酒店信息修改申请</td></tr>

  <td rowspan="4">HotelEdit.findByHotel</td>
	<tr><td>语法</td><td>List< HotelEdit> findByHotel(Integer hotelId);</td></tr>
	<tr><td>前置条件</td><td>对应酒店管理人员发起的酒店信息存在</td></tr>
	<tr><td>后置条件</td><td>返回对应酒店发起的酒店信息修改申请</td></tr>

  <td rowspan="4">HotelEdit.findAllHotelEdits</td>
	<tr><td>语法</td><td>List< HotelEdit> findAllHotelEdits();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>返回所有酒店信息修改申请</td></tr>

</table>
<table>
  <tr><th colspan = "2">需要的服务(需接口)</th></tr>
	<tr><td>服务名</td><td>服务</td></tr>
	<tr><td>HotelEditMapper.save(HotelEdit hotelEdit)</td><td>数据库插入酒店信息修改申请</td></tr>
	<tr><td>HotelEditMapper.reply(HotelEditStatus status, String replyContent, LocalDateTime replyTime, Integer id)</td><td>数据库更新酒店信息修改申请状态与回复</td></tr>
	<tr><td>HotelEditMapper.findById(Integer hotelEditId)</td><td>数据库查找对应ID的酒店信息修改申请</td></tr>
    <tr><td>HotelEditMapper.findByHotel(Integer hotelId)</td><td>数据库查找对应酒店ID的酒店信息修改申请列表</td></tr>
	<tr><td>HotelEditMapper.findByManagerId(Integer managerId)</td><td>数据库查找对应酒店工作人员的酒店信息修改申请</td></tr>
	<tr><td>HotelEditMapper.findAllEdits()</td><td>数据库查找所有酒店信息修改申请</td></tr>
	<tr><td>HotelService.editHotel(hoteledit hotelEdit)</td><td>数据库根据酒店信息修改申请更新酒店信息</td></tr>
</table>


#### 7.3.2.4. HotelRoom模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>
  <td rowspan="4">HotelRoom.addHotelRoom</td>
	<tr><td>语法</td><td>boolean addHotelRoom(HotelRoom hotelRoom);</td></tr>
	<tr><td>前置条件</td><td>新增房间数量、价格大于0，对应酒店无相同类型房间</td></tr>
	<tr><td>后置条件</td><td>系统记录新的房间信息</td></tr>

  <td rowspan="4">HotelRoom.updateNumber</td>
	<tr><td>语法</td><td>boolean updateNumber(Integer hotelRoomId, String roomType, String AfterNum) throwjians ServiceException;</td></tr>
	<tr><td>前置条件</td><td>对应ID房间存在</td></tr>
	<tr><td>后置条件</td><td>更新对应ID的房间信息</td></tr>

  <td rowspan="4">HotelRoom.delHotelRoom</td>
	<tr><td>语法</td><td>boolean delHotelRoom(Integer roomId);</td></tr>
	<tr><td>前置条件</td><td>对应ID房间存在</td></tr>
	<tr><td>后置条件</td><td>系统删除对应ID房间</td></tr>

  <td rowspan="4">HotelRoom.findById</td>
	<tr><td>语法</td><td>HotelRoom findById(Integer hotelRoomId);</td></tr>
	<tr><td>前置条件</td><td>对应ID房间存在</td></tr>
	<tr><td>后置条件</td><td>系统返回对应ID房间</td></tr>

  <td rowspan="4">HotelRoom.findByHotelId</td>
	<tr><td>语法</td><td>List< HotelRoom> findByHotelId(Integer hotelId);</td></tr>
	<tr><td>前置条件</td><td>对应ID酒店存在</td></tr>
	<tr><td>后置条件</td><td>系统返回对应酒店ID的房间</td></tr>

  <td rowspan="4">HotelRoom.findByHotelAndType</td>
	<tr><td>语法</td><td>HotelRoom findByHotelAndType(Integer hotelId, String roomType);</td></tr>
	<tr><td>前置条件</td><td>对应ID酒店和对应房间类型存在</td></tr>
	<tr><td>后置条件</td><td>系统返回对应ID酒店和对应房间类型的房间</td></tr>

  <td rowspan="4">HotelRoom.findValidRooms</td>
	<tr><td>语法</td><td>Integer findValidRooms(Integer hotelId, String roomType, LocalDateTime start, LocalDateTime end);</td></tr>
	<tr><td>前置条件</td><td>对应ID酒店和对应房间类型存在</td></tr>
	<tr><td>后置条件</td><td>返回对应时间段内对应ID酒店和对应房间类型的空置房间</td></tr>

</table>
<table>
  <tr><th colspan = "2">需要的服务(需接口)</th></tr>
	<tr><td>服务名</td><td>服务</td></tr>
	<tr><td>RoomMapper.findByHotelAndType(Integer hotelId, String roomType)</td><td>数据库查找对应酒店ID和房间类型的房间</td></tr>
	<tr><td>RoomMapper.findRoomsByHotelId(Integer hotelId)</td><td>数据库查找对应酒店ID的房间</td></tr>
	<tr><td>RoomMapper.updateRoomInfo(Integer hotelId, String roomType, String AfterNum)</td><td>数据库更新对应酒店ID和房间类型的房间信息</td></tr>
	<tr><td>RoomMapper.delRoom(Integer id)</td><td>数据库删除对应ID的房间</td></tr>
	<tr><td>RoomMapper.findById(Integer hotelRoomId)</td><td>数据库查找对应ID的房间</td></tr>
	<tr><td>RoomMapper.save(HotelRoom hotelRoom)</td><td>数据库插入房间信息</td></tr>
	<tr><td>RoomTypeService.findByName(String name)</td><td>数据库查找对应名字的房间类型</td></tr>
</table>

#### 7.3.2.5. HotelServe模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">HotelServe.addService</td>
	<tr><td>语法</td><td>boolean addService(HotelServe hotelServe);</td></tr>
	<tr><td>前置条件</td><td>不存在重名服务</td></tr>
	<tr><td>后置条件</td><td>系统记录新的服务</td></tr>

  <td rowspan="4">HotelServe.findByName</td>
	<tr><td>语法</td><td>HotelServe findByName(String name);</td></tr>
	<tr><td>前置条件</td><td>对应名字的服务存在</td></tr>
	<tr><td>后置条件</td><td>返回对应名字的服务</td></tr>

  <td rowspan="4">HotelServe.findAllServes</td>
	<tr><td>语法</td><td>List< HotelServe> findAllServes();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>返回所有服务</td></tr>

</table>
<table>
  <tr><th colspan = "2">需要的服务(需接口)</th></tr>
	<tr><td>服务名</td><td>服务</td></tr>
	<tr><td>HotelServeMapper.save(HotelServe hotelServe)</td><td>数据库插入酒店服务</td></tr>
	<tr><td>HotelServeMapper.selectByName(String name)</td><td>数据库根据名称查找服务</td></tr>
	<tr><td>HotelServeMapper.selectAllNames()</td><td>数据库查找所有服务</td></tr>
</table>

#### 7.3.2.6. Hotel模块
<table>
   <tr><th colspan = "3">提供的服务(供接口)</th></tr>

 <td rowspan="4">Hotel.addHotel</td>
  <tr><td>语法</td><td>boolean addHotel(Hotel hotel);</td></tr>
  <tr><td>前置条件</td><td>网站管理员已经登陆</td></tr>
  <tr><td>后置条件</td><td>系统添加新酒店并返回操作结果</td></tr>

 <td rowspan="4">Hotel.addHotelManager</td>
  <tr><td>语法</td><td>boolean addHotelManager(Integer hotelId, Integer hotelManagerId);</td></tr>
  <tr><td>前置条件</td><td>网站管理员已经登陆</td></tr>
  <tr><td>后置条件</td><td>系统更新酒店工作人员信息并返回操作结果</td></tr>

 <td rowspan="4">Hotel.findByManagerId</td>
  <tr><td>语法</td><td>Integer findByManagerId(Integer managerId);</td></tr>
  <tr><td>前置条件</td><td>用户已经登陆</td></tr>
  <tr><td>后置条件</td><td>返回根据酒店工作人员id查找酒店id的结果</td></tr>

 <td rowspan="4">Hotel.findHotelByManagerId</td>
  <tr><td>语法</td><td>hotel findHotelByManagerId(Integer managerId);</td></tr>
  <tr><td>前置条件</td><td>用户已经登陆</td></tr>
  <tr><td>后置条件</td><td>返回根据酒店工作人员查找酒店的结果</td></tr>

 <td rowspan="4">Hotel.findById</td>
  <tr><td>语法</td><td>Hotel findById(Integer hotelId);</td></tr>
  <tr><td>前置条件</td><td>用户已经登陆</td></tr>
  <tr><td>后置条件</td><td>返回根据酒店id查找酒店的结果</td></tr>

 <td rowspan="4">Hotel.findHotelsInCondition</td>
  <tr><td>语法</td><td>List< Hotel> findHotelsInCondition(String star, Integer lowerPrice, Integer higherPrice, String roomType, Double rate);</td></tr>
  <tr><td>前置条件</td><td>客户已经登陆并输入相应关键词</td></tr>
  <tr><td>后置条件</td><td>返回符合条件的酒店的查找结果</td></tr>

 <td rowspan="4">Hotel.findAllHotels</td>
  <tr><td>语法</td><td>List< Hotel> findAllHotels(Integer userId);</td></tr>
  <tr><td>前置条件</td><td>用户已经登陆</td></tr>
  <tr><td>后置条件</td><td>返回所有酒店的查找结果</td></tr>

 <td rowspan="4">Hotel.editHotel</td>
  <tr><td>语法</td><td>void editHotel(HotelEdit hotelEdit);</td></tr>
  <tr><td>前置条件</td><td>网站管理人员已经登陆</td></tr>
  <tr><td>后置条件</td><td>更新酒店信息并返回操作结果</td></tr>

 <td rowspan="4">Hotel.findDetails</td>
  <tr><td>语法</td><td>HotelVO findDetails(Integer hotelId, Integer userId);</td></tr>
  <tr><td>前置条件</td><td>用户已经登陆</td></tr>
  <tr><td>后置条件</td><td>返回酒店详细信息的查找结果</td></tr>

 <td rowspan="4">Hotel.updateRate</td>
  <tr><td>语法</td><td>boolean updateRate(Integer hotelId);</td></tr>
  <tr><td>前置条件</td><td>用户完成订单评分</td></tr>
  <tr><td>后置条件</td><td>系统记录酒店的最终评分</td></tr>

 <td rowspan="4">Hotel.findHotelsInCondition</td>
  <tr><td>语法</td><td>List< HotelVO> findHotelsInCondition(Long timeStart, Long timeEnd, ArrayList< String> star, Integer lowerPrice, Integer highPrice, ArrayList< String> roomType, Double rate, String name, ArrayList\<String> serves);</td></tr>
  <tr><td>前置条件</td><td>用户已经登陆</td></tr>
  <tr><td>后置条件</td><td>系统返回所有满足条件的酒店</td></tr>

 <td rowspan="4">Hotel.getHotelNumber</td>
  <tr><td>语法</td><td>Integer getHotelNumber(String day);</td></tr>
  <tr><td>前置条件</td><td>用户已经登陆</td></tr>
  <tr><td>后置条件</td><td>系统返回当天入住系统的酒店数量</td></tr>

 <td rowspan="4">Hotel.findHotelIds</td>
  <tr><td>语法</td><td>List< Integer> findHotelIds();</td></tr>
  <tr><td>前置条件</td><td>用户已经登陆</td></tr>
  <tr><td>后置条件</td><td>系统返回系统内所有的酒店ID</td></tr>

<td rowspan="4">Hotel.findByName</td>
  <tr><td>语法</td><td>hotel findByName(String hotelName);</td></tr>
  <tr><td>前置条件</td><td>用户已经登陆</td></tr>
  <tr><td>后置条件</td><td>系统返回根据酒店名称查找的酒店结果</td></tr>

<td rowspan="4">Hotel.checkPhoneNumber</td>
  <tr><td>语法</td><td>void checkPhoneNumber(String password);</td></tr>
  <tr><td>前置条件</td><td>用户已经登陆</td></tr>
  <tr><td>后置条件</td><td>系统检测电话是否合法</td></tr>

<td rowspan="4">Hotel.isValidHotel</td>
  <tr><td>语法</td><td>boolean isValidHotel(HotelVO hotelVO, Long timeStart, Long timeEnd, ArrayList<String> star, Integer lowerPrice, Integer highPrice, ArrayList<String> roomType, Double rate, ArrayList\<String> serves);</td></tr>
  <tr><td>前置条件</td><td>用户已经登陆</td></tr>
  <tr><td>后置条件</td><td>系统检测酒店是否符合搜索条件</td></tr>

<td rowspan="4">Hotel.isValidRooms</td>
  <tr><td>语法</td><td>boolean isValidRooms(List<hotelroom> hotelRooms, Integer startIndex, Integer endIndex, Integer lowerPrice, Integer highPrice, ArrayList<String> roomType);</td></tr>
  <tr><td>前置条件</td><td>用户已经登陆</td></tr>
  <tr><td>后置条件</td><td>系统检测酒店中是否有房间符合搜索条件</td></tr>

<td rowspan="4">Hotel.findByName</td>
  <tr><td>语法</td><td>boolean isValidRoom(hotelroom HotelRoom, Integer startIndex, Integer endIndex, Integer lowerPrice, Integer highPrice, ArrayList<String> roomType);</td></tr>
  <tr><td>前置条件</td><td>用户已经登陆</td></tr>
  <tr><td>后置条件</td><td>系统检测特定房间是否符合搜索条件</td></tr>



</table>
<table>
 <tr><th colspan = "2">需要的服务(需接口)</th></tr>
      <tr><td>服务名</td><td>服务</td></tr>
	<tr><td>hotelMapper.save(hotel hotel)</td><td>系统记录新添加的酒店</td></tr>
	<tr><td>hotelMapper.selectByManagerId(Integer managerId)</td><td>系统根据酒店工作人员ID查找酒店ID</td></tr>
	<tr><td>userService.findById(Integer hotelManagerId)</td><td>系统根据ID查找用户</td></tr>
	<tr><td>hotelMapper.updateManager(Integer hotelId, Integer hotelManagerId)</td><td>系统更新酒店工作人员</td></tr>
	<tr><td>hotelMapper.selectById(Integer hotelId)</td><td>系统根据酒店ID查找酒店</td></tr>
	<tr><td>hotelMapper.selectAllHotel()</td><td>系统返回所有酒店组成的酒店列表</td></tr>
	<tr><td>hotelMapper.updateHotel(string hotelName, string hotelDescription, string phoneNum, string[] hotelServe, string picture, Integer hotelId)</td><td>系统更新酒店信息</td></tr>
	<tr><td>hotelRoomService.findByHotelId(Integer hotelId)</td><td>系统根据酒店ID返回酒店房间信息</td></tr>
	<tr><td>orderService.isOrdered(Integer userId, Integer hotelId)</td><td>返回用户是否订过这个酒店</td></tr>
	<tr><td>commentService.getAvgRate(Integer hotelId)</td><td>系统更新数据库中记录的酒店评分</td></tr>
</table>

#### 7.3.2.7. RoomType模块
<table>
  <tr><th colspan = "3">提供的服务(供接口)</th></tr>
 <td rowspan="4">RoomType.addRoomType</td>
  <tr><td>语法</td><td>boolean addRoomType(RoomType roomType);</td></tr>
  <tr><td>前置条件</td><td>酒店工作人员已经登陆</td></tr>
    <tr><td>后置条件</td><td>酒店添加房间类型并返回结果</td></tr>

 <td rowspan="4"> RoomType.findByName</td>
  <tr><td>语法</td><td>RoomType findByName(String name);</td></tr>
  <tr><td>前置条件</td><td>酒店工作人员已经登陆</td></tr>
  <tr><td>后置条件</td><td>返回通过房间类型名称查找房间类型的结果</td></tr>

 <td rowspan="4">RoomType.findAllRoomTypes</td>
  <tr><td>语法</td><td>List< RoomType> findAllRoomTypes();</td></tr>
  <tr><td>前置条件</td><td>酒店工作人员已经登陆</td></tr>
  <tr><td>后置条件</td><td>返回所有房间类型的查找结果</td></tr>

</table>
<table>
    <tr><th colspan = "2">需要的服务(需接口)</th></tr>
	<tr><td>服务名</td><td>服务</td></tr>
	<tr><td>roomTypeMapper.save(roomType roomType)</td><td>系统保存新的房间类型</td></tr>
	<tr><td>roomTypeMapper.selectByName(String name)</td><td>系统通过房间类型的名称查找房间类型</td></tr>
	<tr><td>roomTypeMapper.selectAllNames()</td><td>系统查找所有的房间类型</td></tr>
</table>

#### 7.3.2.8. Bill模块
<table>
	 <tr><th colspan = "3">提供的服务(供接口)</th></tr>

 <td rowspan="4">Bill.addBill</td>
  <tr><td>语法</td><td>boolean addBill(Bill bill);</td></tr>
  <tr><td>前置条件</td><td>客户完成信用充值</td></tr>
  <tr><td>后置条件</td><td>系统添加新的账单并返回操作结果</td></tr>

 <td rowspan="4">Bill.findById</td>
  <tr><td>语法</td><td>Bill findById(Integer billId);</td></tr>
  <tr><td>前置条件</td><td>网站营销人员或客户已经登陆</td></tr>
  <tr><td>后置条件</td><td>返回根据账单ID账单查找的结果</td></tr>

 <td rowspan="4">Bill.findByUser</td>
  <tr><td>语法</td><td>List< Bill> findByUser(Integer userId);</td></tr>
  <tr><td>前置条件</td><td>网站营销人员已经登陆</td></tr>
  <tr><td>后置条件</td><td>返回根据用户ID账单查找的结果</td></tr>

 <td rowspan="4">Bill.findAllBills</td>
  <tr><td>语法</td><td>List< Bill> findAllBills();</td></tr>
  <tr><td>前置条件</td><td>网站营销人员已经登陆</td></tr>
  <tr><td>后置条件</td><td>返回查找所有账单记录的结果</td></tr>

</table>
<table>
 <tr><th colspan = "2">需要的服务(需接口)</th></tr>
    <tr><td>服务名</td><td>服务</td></tr>
  <tr><td>billMapper.save(bill bill)</td><td>系统保存账单信息</td></tr>
  <tr><td>billMapper.findById(Integer billId)</td><td>系统根据账单ID查找账单</td></tr>
  <tr><td>billMapper.findByUid(Integer userId))</td><td>系统根据用户ID查找账单</td></tr>
  <tr><td>billMapper.findAll()</td><td>系统查找所有账单</td></tr>
</table>

#### 7.3.2.9. Comment模块
<table>
	 <tr><th colspan = "3">提供的服务(供接口)</th></tr>
 <td rowspan="4">Comment.addComment</td>
  <tr><td>语法</td><td>boolean addComment(Comment comment);</td></tr>
  <tr><td>前置条件</td><td>客户进行评论并发表</td></tr>
  <tr><td>后置条件</td><td>系统保存订单回复并返回操作结果</td></tr>

 <td rowspan="4">Comment.findById</td>
  <tr><td>语法</td><td>Comment findById(Integer commentId);</td></tr>
  <tr><td>前置条件</td><td>用户已经登陆</td></tr>
  <tr><td>后置条件</td><td>返回通过评论ID查找评论的结果</td></tr>

 <td rowspan="4">Comment.findByOrder</td>
  <tr><td>语法</td><td>List< Comment> findByOrder(Integer orderId, Integer page);</td></tr>
  <tr><td>前置条件</td><td>订单存在并且已经完成，用户已经登陆</td></tr>
  <tr><td>后置条件</td><td>返回根据订单ID查找评论的结果</td></tr>

 <td rowspan="4">Comment.findAllComments</td>
  <tr><td>语法</td><td>List< Comment> findAllComments(Integer page);</td></tr>
  <tr><td>前置条件</td><td>无</td></tr>
  <tr><td>后置条件</td><td>返回查找所有评论的结果</td></tr>

 <td rowspan="4">Comment.findByUidAndOid</td>
  <tr><td>语法</td><td>comment findByUidAndOid(Integer orderId, Integer userId);</td></tr>
  <tr><td>前置条件</td><td>无</td></tr>
  <tr><td>后置条件</td><td>返回查找用户评价的订单</td></tr>

 <td rowspan="4">Comment.getAvgRate</td>
  <tr><td>语法</td><td>Double getAvgRate(Integer hotelId);</td></tr>
  <tr><td>前置条件</td><td>无</td></tr>
  <tr><td>后置条件</td><td>获取酒店的平均评分</td></tr>

 <td rowspan="4">Comment.findByHotelId</td>
  <tr><td>语法</td><td>List< CommentVO> findByHotelId(Integer hotelId, Integer page);</td></tr>
  <tr><td>前置条件</td><td>无</td></tr>
  <tr><td>后置条件</td><td>返回酒店的前10 * page条评论</td></tr>

 <td rowspan="4">Comment.invertComment</td>
  <tr><td>语法</td><td>List< CommentVO> invertComment(List< comment> comments);</td></tr>
  <tr><td>前置条件</td><td>无</td></tr>
  <tr><td>后置条件</td><td>将所有的帖子转换成输出格式的帖子</td></tr>

 <td rowspan="4">Comment.commentToVO</td>
  <tr><td>语法</td><td>CommentVO commentToVO(comment Comment);</td></tr>
  <tr><td>前置条件</td><td>无</td></tr>
  <tr><td>后置条件</td><td>将帖子转换成输出格式的帖子</td></tr>
</table>
<table>
    <tr><th colspan = "2">需要的服务(需接口)</th></tr>
  <tr><td>服务名</td><td>服务</td></tr>
  <tr><td>commentMapper.save(comment comment)</td><td>系统保存评论信息</td></tr>
 <tr><td>commentMapper.findById(Integer commentId)</td><td>系统根据评论ID查找评论</td></tr>
 <tr><td>commentMapper.selectByOid(Integer orderId, Integer 10 * page)</td><td>系统根据订单ID查找评论</td></tr>
 <tr><td>commentMapper.selectAll(Integer 10 * page)</td><td>系统查找所用评论</td></tr>
 <tr><td>userService.findById(Integer userId)</td><td>根据用户的ID查找用户的信息</td></tr>
</table>


#### 7.3.2.10. Order模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>
<td rowspan="4">Order.addOrder</td>
	<tr><td>语法</td><td>boolean addOrder(hotelorder hotelorder);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统添加新订单</td></tr>

  <td rowspan="4">Order.updateOrderState</td>
	<tr><td>语法</td><td>boolean updateOrderState(Integer orderId, OrderState orderState);</td></tr>
	<tr><td>前置条件</td><td>找到此订单</td></tr>
	<tr><td>后置条件</td><td>系统更新订单状态数据库成功</td></tr>

  <td rowspan="4">Order.editOrder</td>
	<tr><td>语法</td><td>boolean editOrder(OrderEditForm orderEditForm);</td></tr>
	<tr><td>前置条件</td><td>启动一个更新订单回合</td></tr>
	<tr><td>后置条件</td><td>系统更新订单信息数据库成功</td></tr>

  <td rowspan="4">Order.annulOrder</td>
	<tr><td>语法</td><td>boolean annulOrder(Integer orderId, Integer userId);</td></tr>
	<tr><td>前置条件</td><td>已经存在此订单号</td></tr>
	<tr><td>后置条件</td><td>系统取消此订单</td></tr>

  <td rowspan="4">Order.isOrdered</td>
	<tr><td>语法</td><td>boolean isOrdered(Integer userId,Integer hotelId);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>返回用户是否预订过该酒店</td></tr>

  <td rowspan="4">Order.findById</td>
	<tr><td>语法</td><td>Order findById(Integer orderId);</td></tr>
	<tr><td>前置条件</td><td>存在Id</td></tr>
	<tr><td>后置条件</td><td>系统根据订单Id返回对应Id的订单</td></tr>

  <td rowspan="4">Order.findByUser</td>
	<tr><td>语法</td><td>List< Order> findByUser(Integer userId);</td></tr>
	<tr><td>前置条件</td><td>存在该User</td></tr>
	<tr><td>后置条件</td><td>系统根据订单UserId返回对应User的订单</td></tr>

  <td rowspan="4">Order.findByHotel</td>
	<tr><td>语法</td><td>List< Order> findByHotel(Integer hotelId);</td></tr>
	<tr><td>前置条件</td><td>存在该酒店</td></tr>
	<tr><td>后置条件</td><td>系统根据订单酒店名返回对应酒店名的订单</td></tr>

  <td rowspan="4">Order.findAllOrders</td>
	<tr><td>语法</td><td>List< Order> findAllOrders();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回所有订单</td></tr>

  <tr><th colspan = "2">需要的服务(需接口)</th></tr>
	<tr><td>服务名</td><td>服务</td></tr>
	<tr><td>hotelRoomService.findValidRooms(Integer hotelId, String roomType, LocalDateTime start, LocalDateTime end)</td><td>系统返回合法房间的数量</td></tr>
	<tr><td>orderMapper.save(Integer hotelorder)</td><td>系统存储相应酒店订单</td></tr>
	<tr><td>userService.updateCredit(Integer UserId,Double Price)</td><td>系统更新信用值</td></tr>
	<tr><td>billService.addBill(bill bill)</td><td>系统添加相应账单</td></tr>
	<tr><td>orderMapper.updateOrderState(Integer orderId,OrderState orderState)</td><td>系统更新订单状态</td></tr>
	<tr><td>hotelRoomService.findByHotelAndType(Integer HotelId,String RoomType)</td><td>系统通过酒店和类型返回酒店对应房间</td></tr>
	<tr><td>hotelRoomService.updateNumber(Integer HotelId, String RoomType, String AfterNum)</td><td>系统更新酒店房间数量</td></tr>
	<tr><td>userService.updateCredit(Integer UserId, Double Price)</td><td>系统更新信用值</td></tr>
	<tr><td>orderMapper.findById(Integer orderId).orElse(null)</td><td>系统通过Id查找对应订单</td></tr>
	<tr><td>orderMapper.findByUser(Integer userId)</td><td>系统通过UserId查找相应订单</td></tr>
	<tr><td>orderMapper.findByHotel(Integer hotelId)</td><td>系统通过酒店Id查找相应订单</td></tr>
	<tr><td>orderMapper.findAllOrders()</td><td>系统查找所有订单</td></tr>
	
</table>


#### 7.3.2.11. Reply模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">Reply.addReply</td>
	<tr><td>语法</td><td>boolean addReply(ReplyForm replyForm);</td></tr>
	<tr><td>前置条件</td><td>用户已经登录，replyForm输入符合格式</td></tr>
	<tr><td>后置条件</td><td>系统记录Comment的回复，根据记录情况返回提示</td></tr>

  <td rowspan="4">Reply.findById</td>
	<tr><td>语法</td><td>Reply findById(Integer replyId);</td></tr>
	<tr><td>前置条件</td><td>用户已经登录</td></tr>
	<tr><td>后置条件</td><td>系统根据replyId查找Comment的回复，并且根据查询结果进行返回</td></tr>

  <td rowspan="4">Reply.findByUser</td>
	<tr><td>语法</td><td>List< Reply> findByUser(Integer userId, Integer page);</td></tr>
	<tr><td>前置条件</td><td>用户已经登录</td></tr>
	<tr><td>后置条件</td><td>系统根据userId查找所有的回复，并且根据查询结果进行返回</td></tr>

  <td rowspan="4">Reply.findByComment</td>
	<tr><td>语法</td><td>List< Reply> findByComment(Integer commentId, Integer page);</td></tr>
	<tr><td>前置条件</td><td>用户已经登录</td></tr>
	<tr><td>后置条件</td><td>系统根据commentId查找所有的回复，并且根据查询结果进行返回</td></tr>

  <td rowspan="4">Reply.findByReply</td>
	<tr><td>语法</td><td>List< Reply> findByReply(Integer replyId, Integer page);</td></tr>
	<tr><td>前置条件</td><td>用户已经登录</td></tr>
	<tr><td>后置条件</td><td>T系统根据replyId查找二级回复，并且根据查询结果进行回复</td></tr>

  <tr><th colspan = "2">需要的服务(需接口)</th></tr>
	<tr><td>服务名</td><td>服务</td></tr>
	<tr><td>replyMapper.save(Reply reply);</td><td>系统记录回复内容</td></tr>
	<tr><td>replyMapper.selectById(Integer replyId);</td><td>系统根据ID查找回复内容</td></tr>
	<tr><td>reply.selectByUid(Integer userId, Integer page);</td><td>系统根据用户ID查找回复</td></tr>
	<tr><td>reply.selectByCid(Integer commentId, Integer page);</td><td>系统根据CommentId查找回复</td></tr>
	<tr><td>reply.selectByRid(Integer replyId, Integer page);</td><td>系统根据回复Id查找所有二级回复</td></tr>
</table>

#### 7.3.2.12. User模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">User.addUser</td>
	<tr><td>语法</td><td>boolean addUser(User user);</td></tr>
	<tr><td>前置条件</td><td>已经新建了一个User</td></tr>
	<tr><td>后置条件</td><td>系统记录此User进入数据库</td></tr>

  <td rowspan="4">User.login</td>
	<tr><td>语法</td><td>LoginVO login(LoginForm loginForm);</td></tr>
	<tr><td>前置条件</td><td>对应用户存在于数据库中，账号密码正确</td></tr>
	<tr><td>后置条件</td><td>系统生成token载入内存</td></tr>

  <td rowspan="4">User.changePwd</td>
	<tr><td>语法</td><td>boolean changePwd(ChangePwdForm changePwdForm);</td></tr>
	<tr><td>前置条件</td><td>用户已经登录</td></tr>
	<tr><td>后置条件</td><td>系统通过修改密码的表格更新此用户的密码</td></tr>

  <td rowspan="4">User.updateInfo</td>
	<tr><td>语法</td><td>boolean updateInfo(ChangeInfoForm changeInfoForm);</td></tr>
	<tr><td>前置条件</td><td>用户已经登录认证</td></tr>
	<tr><td>后置条件</td><td>系统通过信息修改表单更新用户的基本信息</td></tr>

  <td rowspan="4">User.getUserInfo</td>
	<tr><td>语法</td><td>User getUserInfo(String token);</td></tr>
	<tr><td>前置条件</td><td>用户已经登录</td></tr>
	<tr><td>后置条件</td><td>系统返回用户的基本信息</td></tr>

  <td rowspan="4">User.findByEmail</td>
	<tr><td>语法</td><td>User findByEmail(String email);</td></tr>
	<tr><td>前置条件</td><td>输入的邮箱存在于数据库中</td></tr>
	<tr><td>后置条件</td><td>系统通过邮箱查找相应的用户</td></tr>

  <td rowspan="4">User.findById</td>
	<tr><td>语法</td><td>User findById(Integer userId);</td></tr>
	<tr><td>前置条件</td><td>输入的Id存在于数据库中</td></tr>
	<tr><td>后置条件</td><td>系统通过对应Id查找相应的用户</td></tr>

  <td rowspan="4">User.getBizRegions</td>
	<tr><td>语法</td><td>List< BizRegion> getBizRegions();</td></tr>
	<tr><td>前置条件</td><td>商圈非空</td></tr>
	<tr><td>后置条件</td><td>系统返回数据库中的所有商圈</td></tr>

  <td rowspan="4">User.getOrderComments</td>
	<tr><td>语法</td><td>List< Comment> getOrderComments(String token, Integer orderId);</td></tr>
	<tr><td>前置条件</td><td>对应订单Id的订单评论非空</td></tr>
	<tr><td>后置条件</td><td>系统返回对应订单Id的订单评论</td></tr>

  <td rowspan="4">User.getHotelComments</td>
	<tr><td>语法</td><td>List< CommentVO> getHotelComments(String token, Integer hotelId, Integer page);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回对应酒店的10*page - 10*(page+1)的帖子</td></tr>

  <td rowspan="4">User.getReplyReply</td>
	<tr><td>语法</td><td>List< Reply> getReplyReply(String token, Integer replyId, Integer page);</td></tr>
	<tr><td>前置条件</td><td>对应的回复Id存在</td></tr>
	<tr><td>后置条件</td><td>系统返回对应回复的二级回复</td></tr>

  <td rowspan="4">User.getMyReply</td>
	<tr><td>语法</td><td>List< Reply> getMyReply(String token, Integer page);</td></tr>
	<tr><td>前置条件</td><td>我的订单评论存在</td></tr>
	<tr><td>后置条件</td><td>系统返回我的所有评论</td></tr>

  <td rowspan="4">User.addReply</td>
	<tr><td>语法</td><td>boolean addReply(ReplyForm replyForm);</td></tr>
	<tr><td>前置条件</td><td>填写的回复表达规格正确</td></tr>
	<tr><td>后置条件</td><td>系统通过回复表单添加新的回复进入数据库</td></tr>

  <td rowspan="4">User.findByComment</td>
	<tr><td>语法</td><td>List< Reply> findByComment(Integer commentId, Integer page);</td></tr>
	<tr><td>前置条件</td><td>该评论Id存在</td></tr>
	<tr><td>后置条件</td><td>通过该评论Id返回对应的回复</td></tr>

  <td rowspan="4">User.updateCredit</td>
	<tr><td>语法</td><td>boolean updateCredit(Integer userId, Double credit);</td></tr>
	<tr><td>前置条件</td><td>用户已经登录</td></tr>
	<tr><td>后置条件</td><td>系统更新用户的信用值</td></tr>

  <td rowspan="4">User.getHotelManager</td>
	<tr><td>语法</td><td>List<User> getHotelManager();</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员存在</td></tr>
	<tr><td>后置条件</td><td>系统返回所有酒店工作人员</td></tr>

  <td rowspan="4">User.updateVIP</td>
	<tr><td>语法</td><td>boolean updateVIP(Integer userId,ClientVIPForm clientVIPForm);</td></tr>
	<tr><td>前置条件</td><td>客户满足VIP条件,该UserId存在并且VIP表单填写格式正确</td></tr>
	<tr><td>后置条件</td><td>系统通过对应的表单更新该VIP信息</td></tr>

  <td rowspan="4">User.getAllServe</td>
	<tr><td>语法</td><td>List< hotelserve> getAllServe(String token);</td></tr>
	<tr><td>前置条件</td><td>用户已经登录</td></tr>
	<tr><td>后置条件</td><td>系统返回所有酒店服务</td></tr>

  <tr><th colspan = "2">需要的服务(需接口)</th></tr>
	<tr><td>服务名</td><td>服务</td></tr>
	<tr><td>userMapper.save(User user)</td><td>系统保存新用户</td></tr>
	<tr><td>UserHelper.login(Token token,User user)</td><td>系统登录</td></tr>
	<tr><td>UserHelper.getByToken(String Token)</td><td>登录获取Token值认证</td></tr>
	<tr><td>userMapper.updatePassWord(Integer Id,String NewPassWord)</td><td>系统更新对应用户的登录密码</td></tr>
	<tr><td>userMapper.findByEmail(String email)</td><td>系统通过邮箱查找对应用户</td></tr>
	<tr><td>userMapper.findById(Integer userId).orElse(null)</td><td>系统通过UserId查找对应用户</td></tr>
	<tr><td>HotelServeService.findAllServes()</td><td>系统返回所有酒店服务</td></tr>
	
</table>


#### 7.3.2.13. Client模块
<table>
	  <tr><th colspan = "3">提供的服务(供接口)</th></tr>

 <td rowspan="4">Client.addOrder</td>
  <tr><td>语法</td><td>boolean addOrder(OrderForm orderForm);</td></tr>
  <tr><td>前置条件</td><td>客户完成酒店预订操作并确认订单</td></tr>
  <tr><td>后置条件</td><td>系统添加订单并返回结果</td></tr>

 <td rowspan="4">Client.editOrder</td>
  <tr><td>语法</td><td>boolean editOrder(OrderEditForm orderEditForm);</td></tr>
  <tr><td>前置条件</td><td>客户已经生成该订单并且订单未失效或者进入不可修改期</td></tr>
  <tr><td>后置条件</td><td>系统更新订单信息并返回操作结果</td></tr>

 <td rowspan="4">Client.annualOrder</td>
  <tr><td>语法</td><td>boolean annualOrder(Integer orderId, String token);</td></tr>
  <tr><td>前置条件</td><td>客户已经生成该订单并且订单未失效或者进入不可修改期</td></tr>
  <tr><td>后置条件</td><td>系统取消订单并返回操作结果</td></tr>

 <td rowspan="4">Client.updateVIP</td>
  <tr><td>语法</td><td>boolean updateVIP(ClientVIPForm clientVIPForm);</td></tr>
  <tr><td>前置条件</td><td>客户已经登陆</td></tr>
  <tr><td>后置条件</td><td>系统进行会员登记操作并返回操作结果</td></tr>

 <td rowspan="4">Client.addClient</td>
  <tr><td>语法</td><td>boolean addClient(ClientForm clientForm);</td></tr>
  <tr><td>前置条件</td><td>客户已经完成注册信息输入并提交</td></tr>
  <tr><td>后置条件</td><td>系统添加新用户并返回操作结果</td></tr>

 <td rowspan="4">Client.comment</td>
  <tr><td>语法</td><td>boolean comment(CommentForm commentForm);</td></tr>
  <tr><td>前置条件</td><td>客户已经登录</td></tr>
  <tr><td>后置条件</td><td>系统记录评论信息并返回操作结果</td></tr>

 <td rowspan="4">Client.getMyOrders</td>
  <tr><td>语法</td><td>List< Order> getMyOrders(String token);</td></tr>
  <tr><td>前置条件</td><td>客户已经登录</td></tr>
  <tr><td>后置条件</td><td>系统返回查找客户所有订单的结果</td></tr>

 <td rowspan="4">Client.matchCoupons</td>
  <tr><td>语法</td><td>List< Coupon> matchCoupons(String token, Order order);</td></tr>
  <tr><td>前置条件</td><td>客户完成酒店预订并生成订单</td></tr>
  <tr><td>后置条件</td><td>系统返回查找所有可以供订单使用的优惠券的结果</td></tr>

 <td rowspan="4">Client.getMyBills</td>
  <tr><td>语法</td><td>List< Bill> getMyBills(String token);</td></tr>
  <tr><td>前置条件</td><td>客户已经登录</td></tr>
  <tr><td>后置条件</td><td>系统返回查找客户所有账单的结果</td></tr>

<td rowspan="4">Client.checkOrderStatus</td>
  <tr><td>语法</td><td>boolean checkOrderStatus(Integer orderId, OrderState orderState);</td></tr>
  <tr><td>前置条件</td><td>客户已经登录</td></tr>
  <tr><td>后置条件</td><td>系统修改订单状态</td></tr></table>

<table>
 <tr><th colspan = "2">需要的服务(需接口)</th></tr>

  <tr><td>服务名</td><td>服务</td></tr>

  <tr><td>orderService.addOrder(hotelorder hotelorder)</td><td>系统添加新的订单</td></tr>

 <tr><td>orderService.editOrder(OrderEditForm orderEditForm)</td><td>系统更新订单信息</td></tr>

 <tr><td>orderService.annulOrder(Integer orderId)</td><td>系统删除订单</td></tr>

 <tr><td>userService.findById(Integer uId)</td><td>系统根据客户ID查找客户</td></tr>

 <tr><td>userService.updateVIP(Integer uId, clientVIPForm)</td><td>系统为客户进行VIP登记</td></tr>

 <tr><td>userService.addUser(user user)</td><td>系统添加新用户</td></tr>

 <tr><td>orderService.findById(Integer Oid)</td><td>系统根据订单ID查找订单</td></tr>

 <tr><td>commentService.addComment(comment comment)</td><td>系统记录客户对订单的评论</td></tr>

 <tr><td>orderService.findByUser(Integer uId)</td><td>系统根据客户ID查找他的所有订单</td></tr>

 <tr><td>couponService.getMatchOrderCoupon(hotelorder hotelorder)</td><td>系统根据订单情况查找所有可以应用到优惠策略</td></tr>

 <tr><td>billService.findByUser(Integer uId)</td><td>系统根据客户ID查找他的所有账单</td></tr>
</table>

#### 7.3.2.14. HotelManager模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">HotelManager.addRoom</td>
	<tr><td>语法</td><td>boolean addRoom(RoomForm roomForm);</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统记录酒店工作人员新建的酒店房间</td></tr>

  <td rowspan="4">HotelManager.editHotel</td>
	<tr><td>语法</td><td>boolean editHotel(HotelEditForm hotelEditForm);</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统记录酒店工作人员提交的酒店信息修改申请</td></tr>

  <td rowspan="4">HotelManager.confirm</td>
	<tr><td>语法</td><td>boolean confirm(OrderCheckForm orderCheckForm);</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统记录酒店工作人员回复的订单确认，并且进行相应的数据修改</td></tr>

  <td rowspan="4">HotelManager.findHotelOrders</td>
	<tr><td>语法</td><td>List< Order> findHotelOrders(String token);</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统根据状态返回酒店工作人员所在酒店的未处理订单</td></tr>

  <td rowspan="4">HotelManager.findByManager</td>
	<tr><td>语法</td><td>List< HotelEdit> findByManager(String token);</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统根据酒店工作人员ID返回其所属酒店的ID</td></tr>

  <td rowspan="4">HotelManager.delRoom</td>
	<tr><td>语法</td><td>boolean delRoom(String token, Integer roomId);</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统删除酒店工作人员所属酒店的房间</td></tr>

  <td rowspan="4">HotelManager.getMyCoupon</td>
	<tr><td>语法</td><td>List< Coupon> getMyCoupon(String token);</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统显示酒店工作人员所在酒店的所有优惠券</td></tr>

  <td rowspan="4">HotelManager.addServe</td>
	<tr><td>语法</td><td>boolean addServe(ServeForm serveForm);</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统记录酒店工作人员新建的酒店服务</td></tr>

  <td rowspan="4">HotelManager.addRoomType</td>
	<tr><td>语法</td><td>boolean addRoomType(RoomTypeForm roomTypeForm);</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统记录酒店房间类型</td></tr>

  <td rowspan="4">HotelManager.getAllRoomType</td>
	<tr><td>语法</td><td>List< RoomType> getAllRoomType(String token);</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统返回所有酒店房间类型</td></tr>

  <td rowspan="4">HotelManager.hotelSituation</td>
	<tr><td>语法</td><td>List< HotelSituationVO> hotelSituation(String token);</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统返回酒店的每日情况</td></tr>

  <tr><th colspan = "2">需要的服务(需接口)</th></tr>
	<tr><td>服务名</td><td>服务</td></tr>
	<tr><td>CouponService.getHotelAllCoupon(Integer hotelId)</td><td>系统返回酒店的所有优惠券</td></tr>
	<tr><td>HotelRoomService.addHotelRoom(Room room)</td><td>系统记录新建的酒店房间信息</td></tr>
	<tr><td>HotelEditService.addHotelEdit(HotelEdit hotelEdit)</td><td>系统记录提交的酒店信息修改申请</td></tr>
	<tr><td>OrderService.findById(Integer orderId)</td><td>系统根据订单编号查找订单</td></tr>
	<tr><td>OrderService.updateOrderState(Integer orderId, OrderState orderState)</td><td>系统更新订单状态，并根据更新的状态调整用户的信用值、酒店房间的剩余数量</td></tr>
	<tr><td>OrderService.findByHotel(Integer hoterId)</td><td>系统返回一个酒店的所有房间</td></tr>
	<tr><td>HotelService.findManagerId(Integer managerId)</td><td>系统根据酒店工作人员编号返回酒店编号</td></tr>
	<tr><td>HotelEditService.findByManager(Integer managerId)</td><td>系统返回酒店工作人员提交的所有酒店信息修改申请</td></tr>
	<tr><td>HotelEditService.delHotelRoom(Integer roomId)</td><td>系统删除对应的酒店房间</td></tr>
	<tr><td>HotelServeService.addService(HotelServe hotelServe)</td><td>系统记录酒店服务信息</td></tr>
	<tr><td>RoomTypeService.addRoomType(RoomType roomType)</td><td>系统记录新建的房间类型</td></tr>
	<tr><td>RoomTypeService.findAllRoomTypes()</td><td>系统返回所有酒店房间类型</td></tr>
</table>

#### 7.3.2.15. SiteMarket模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">SiteMarket.addBizRegion</td>
	<tr><td>语法</td><td>boolean addBizRegion(String token, String name);</td></tr>
	<tr><td>前置条件</td><td>输入商圈信息格式正确</td></tr>
	<tr><td>后置条件</td><td>系统新增商圈信息进入数据库</td></tr>

  <td rowspan="4">SiteMarket.updateCredit</td>
	<tr><td>语法</td><td>boolean updateCredit(CreditForm creditForm);</td></tr>
	<tr><td>前置条件</td><td>信用值表单格式正确</td></tr>
	<tr><td>后置条件</td><td>系统更新用户信用值</td></tr>

  <td rowspan="4">SiteMarket.getAllBills</td>
	<tr><td>语法</td><td>List< Bill> getAllBills(String token);</td></tr>
	<tr><td>前置条件</td><td>账单流水非空</td></tr>
	<tr><td>后置条件</td><td>系统返回所有账单</td></tr>

  <td rowspan="4">SiteMarket.situation</td>
	<tr><td>语法</td><td>List< SiteSituationVO> situation(String token);</td></tr>
	<tr><td>前置条件</td><td>网站营销人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统返回网站的每日情况信息</td></tr>

  <td rowspan="4">SiteMarket.getAllCoupons</td>
	<tr><td>语法</td><td>List< coupon> getAllCoupons(String token);</td></tr>
	<tr><td>前置条件</td><td>网站营销人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统返回所有的优惠情况</td></tr>

  <tr><th colspan = "2">需要的服务(需接口)</th></tr>
	<tr><td>服务名</td><td>服务</td></tr>
	<tr><td>UserHelper.checkRole(String token, UserType SiteMarket)</td><td>系统判断该用户类型</td></tr>
	<tr><td>bizRegionService.addBizRegion(bizregion bizRegion)</td><td>添加商圈</td></tr>
	<tr><td>userService.updateCredit(Integer getUid(),Double Credit)</td><td>更新用户信用值</td></tr>
	<tr><td>billService.addBill(bill bill)</td><td>添加账单</td></tr>
	<tr><td>billService.findAllBills()</td><td>系统查找所有账单</td></tr>
</table>

#### 7.3.2.16. Manager模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">Manager.addHotel</td>
	<tr><td>语法</td><td>boolean addHotel(HotelForm hotelForm);</td></tr>
	<tr><td>前置条件</td><td>网站管理人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统记录新建酒店信息</td></tr>

  <td rowspan="4">Manager.addHotelManager</td>
	<tr><td>语法</td><td>boolean addHotelManager(HotelManagerForm hotelManagerForm);</td></tr>
	<tr><td>前置条件</td><td>网站管理人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统记录新建酒店工作人员信息</td></tr>

  <td rowspan="4">Manager.reply</td>
	<tr><td>语法</td><td>boolean reply(CheckHotelEditForm checkHotelEditForm);</td></tr>
	<tr><td>前置条件</td><td>网站管理人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统修改酒店信息修改申请审核结果，并根据结果修改酒店信息</td></tr>

  <td rowspan="4">Manager.getAllHotelManager</td>
	<tr><td>语法</td><td>List< User> getAllHotelManager(String token);</td></tr>
	<tr><td>前置条件</td><td>网站管理人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统返回所有网站管理人员</td></tr>

  <td rowspan="4">Manager.getAllHotelEdit</td>
	<tr><td>语法</td><td>List< HotelEdit> getAllHotelEdit(String token);</td></tr>
	<tr><td>前置条件</td><td>网站管理人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统返回所有的酒店修改申请</td></tr>

  <tr><th colspan = "2">需要的服务(需接口)</th></tr>
	<tr><td>服务名</td><td>服务</td></tr>
	<tr><td>HotelService.addHotel(Hotel hotel)</td><td>系统记录新建酒店信息</td></tr>
	<tr><td>HotelEditService.checkHotelEdit(HotelEditStatus hotelEditStatus,String replyContent, Integer id)</td><td>系统修改酒店信息修改申请状态，并进行对应处理</td></tr>
	<tr><td>HotelService.findById(Integer id)</td><td>系统根据编号查找酒店</td></tr>
	<tr><td>UserService.addUser(User user)</td><td>系统记录用户的信息</td></tr>
	<tr><td>UserService.findByEmail(String Email)</td><td>系统返回Email对应的用户</td></tr>
	<tr><td>HotelService.addHotelManager(Integer hotelId, Integer userId)</td><td>系统记录酒店工作人员信息</td></tr>
	<tr><td>UserService.getHotelManager()</td><td>系统返回所有酒店管理人员</td></tr>
	<tr><td>HotelEditService.findAllHotelEdits()</td><td>系统返回所有酒店信息修改申请</td></tr>
</table>

#### 7.3.2.17. HotelSituation模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">HotelSituation.createLeastSituation</td>
	<tr><td>语法</td><td>boolean createLeastSituation(Integer hotelId);</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统创建酒店的销售记录</td></tr>

  <td rowspan="4">HotelSituation.selectByHotelId</td>
	<tr><td>语法</td><td>List\<hotelsituation> selectByHotelId(Integer hotelId);</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统查找对应酒店id的酒店的营销记录</td></tr>

  <td rowspan="4">HotelSituation.selectAll</td>
	<tr><td>语法</td><td>List\<hotelsituation> selectAll();</td></tr>
	<tr><td>前置条件</td><td>网站营销人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统返回网站营销记录</td></tr>

  <td rowspan="4">HotelSituation.updateClientNum</td>
	<tr><td>语法</td><td>boolean updateClientNum(Integer hotelId, String today, Integer clientNum);</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统返回对应酒店Id的酒店的今日顾客数量</td></tr>

  <td rowspan="4">HotelSituation.updateVIPNum</td>
	<tr><td>语法</td><td>boolean updateVIPNum(Integer hotelId, String today, Integer VIPNum);</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统返回对应酒店Id的酒店的今日VIP顾客数量</td></tr>

<td rowspan="4">HotelSituation.updateOrderDoneNum</td>
	<tr><td>语法</td><td>boolean updateOrderDoneNum(Integer hotelId, String today, Integer orderDoneNum);</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统返回对应酒店Id的酒店的今日已完成订单数量</td></tr>

<td rowspan="4">HotelSituation.updateOrderBadNum</td>
	<tr><td>语法</td><td>boolean updateOrderBadNum(Integer hotelId, String today, Integer orderDoneNum);</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统返回对应酒店Id的酒店的今日异常订单数量</td></tr>

<td rowspan="4">HotelSituation.updateTotalClientNum</td>
	<tr><td>语法</td><td>boolean updateTotalClientNum(Integer hotelId, String today, Integer totalClientNum);</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统返回对应酒店Id的酒店的顾客总数</td></tr>

<td rowspan="4">HotelSituation.getLatestSituation</td>
	<tr><td>语法</td><td>hotelsituation getLatestSituation(Integer hotelId);</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统返回对应酒店Id的酒店的最新信息数据</td></tr>
</table>

<table>
    <tr><th colspan = "2">需要的服务(需接口)</th></tr>
	<tr><td>服务名</td><td>服务</td></tr>
	<tr><td>HotelService.findDetails(Integer hotelId, Integer userId)</td><td>系统返回酒店详细信息</td></tr>
	<tr><td>hotelSituationMapper.selectByHotelId(    Integer hotelId)</td><td>系统查找对应酒店id的酒店的营销记录</td></tr>
	<tr><td>hotelSituationMapper.selectAll()</td><td>系统返回网站营销记录</td></tr>
	<tr><td>hotelSituationMapper.updateClientNum(Integer hotelId, String today, Integer clientNum)</td><td>系统返回对应酒店Id的酒店的今日顾客数量</td></tr>
	<tr><td>hotelSituationMapper.updateVIPNum(Integer hotelId, String today, Integer clientNum)</td><td>系统返回对应酒店Id的酒店的今日VIP顾客数量</td></tr>
	<tr><td>hotelSituationMapper.updateOrderDoneNum(Integer hotelId, String today, Integer clientNum)</td><td>系统返回对应酒店Id的酒店的今日完成订单数量</td></tr>
	<tr><td>hotelSituationMapper.updateOrderBadNum(Integer hotelId, String today, Integer clientNum)</td><td>系统返回对应酒店Id的酒店的今日异常订单数量</td></tr>
	<tr><td>hotelSituationMapper.updateTotalClientNum(Integer hotelId, String today, Integer clientNum)</td><td>系统返回对应酒店Id的酒店的顾客数量</td></tr>
    <tr><td>hotelSituationMapper.findLatestHotel(Integer hotelId)</td><td>系统返回对应酒店Id的酒店的最新信息数据</td></tr>
</table>

#### 7.3.2.18. Situation模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

​    <td rowspan="4">Situation.getHotelSituation</td>
​	<tr><td>语法</td><td>List\<HotelSituationVO> getHotelSituation(Integer hotelId);</td></tr>
​	<tr><td>前置条件</td><td>酒店工作人员已经登录</td></tr>
​	<tr><td>后置条件</td><td>系统返回对应酒店Id的酒店的经营情况</td></tr>

  <td rowspan="4">Situation.getSiteSituation</td>
	<tr><td>语法</td><td>List\<SiteSituationVO> getSiteSituation();</td></tr>
	<tr><td>前置条件</td><td>网站营销人员已经登录</td></tr>
	<tr><td>后置条件</td><td>系统返回网站经营情况</td></tr>

</table>

<table>
    <tr><th colspan = "2">需要的服务(需接口)</th></tr>
	<tr><td>hotelSituationService.selectByHotelId(Integer hotelId)</td><td>系统查找对应酒店id的酒店的营销记录</td></tr>
	<tr><td>hotelSituationService.selectAll()</td><td>系统返回网站营销记录</td></tr>
	<tr><td>hotelService.getHotelNumber(String day)</td><td>系统返回今日酒店数量</td></tr>
</table>

#### 7.3.2.19. Upload模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">Upload.upload</td>
	<tr><td>语法</td><td>SimpleResponse upload(@RequestBody MultipartFile multipartFile);</td></tr>
	<tr><td>前置条件</td><td>用户已经登录</td></tr>
	<tr><td>后置条件</td><td>系统向OSS发送请求存储图片</td></tr>

  <td rowspan="4">Upload.delete</td>
	<tr><td>语法</td><td>SimpleResponse delete(String url);</td></tr>
	<tr><td>前置条件</td><td>用户已经登录</td></tr>
	<tr><td>后置条件</td><td>系统向OSS发送请求删除图片</td></tr>

  <tr><th colspan = "2">需要的服务(需接口)</th></tr>
	<tr><td>服务名</td><td>服务</td></tr>
	<tr><td>ossClientUtil.uploadFile(multipartFile)</td><td>提供向OSS服务商发起上传图片请求</td></tr>
	<tr><td>ossClientUtil.delete(url)</td><td>提供向OSS服务商发起删除对应图片请求</td></tr>
</table>

## 7.4. 数据层分解

![Nhg1LF.png](https://s1.ax1x.com/2020/06/29/Nhg1LF.png)

### 7.4.1. 职责
| 模块                 | 职责                                         |
| -------------------- | -------------------------------------------- |
| BillMapper           | 持久化数据库的接口，提供账单查询服务         |
| CouponMapper         | 持久化数据库的接口，提供优惠策略查询服务     |
| BizRegionMapper      | 持久化数据库的接口，提供商圈查询服务         |
| HotelEditMapper      | 持久化数据库的接口，提供酒店信息查询服务     |
| HotelMapper          | 持久化数据库的接口，提供酒店查询服务         |
| HotelServeMapper     | 持久化数据库的接口，提供酒店服务查询服务     |
| RoomMapper           | 持久化数据库的接口，提供酒店房间查询服务     |
| RoomTypeMapper       | 持久化数据库的接口，提供酒店房间类型查询服务 |
| CommentMapper        | 持久化数据库的接口，提供评论查询服务         |
| OrderMapper          | 持久化数据库的接口，提供订单查询服务         |
| ReplyMapper          | 持久化数据库的接口，提供回复查询服务         |
| UserMapper           | 持久化数据库的接口，提供用户查询服务         |
| HotelSituationMapper | 持久化数据库的接口，提供酒店每日情况查询服务 |

### 7.4.2. 接口规范

#### 7.4.2.1. BillMapper模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">BillMapper.add</td>
	<tr><td>语法</td><td>void save(Bill bill);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统记录账单信息</td></tr>

  <td rowspan="4">BillMapper.findById</td>
	<tr><td>语法</td><td>Bill findById(Integer id);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回对应编号的账单信息</td></tr>

  <td rowspan="4">BillMapper.findByUid</td>
	<tr><td>语法</td><td>List< Bill> findByUid(Integer uid);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回对应用户的账单</td></tr>

  <td rowspan="4">BillMapper.findAll</td>
	<tr><td>语法</td><td>List< Bill> findAll();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回所有的账单</td></tr>
</table>


#### 7.4.2.2. CouponMapper模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">CouponMapper.add</td>
	<tr><td>语法</td><td>int save(Coupon coupon);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统记录优惠券信息</td></tr>

  <td rowspan="4">CouponMapper.selectById</td>
	<tr><td>语法</td><td>Coupon selectById(Integer id);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回对应编号的优惠券</td></tr>

  <td rowspan="4">CouponMapper.selectByHotelId</td>
	<tr><td>语法</td><td>List< Coupon> selectByHotelId(Integer hotelId);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回酒店所有的优惠券</td></tr>

  <td rowspan="4">CouponMapper.selectBySite</td>
	<tr><td>语法</td><td>List< Coupon> selectBySite();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回网站所有的优惠券</td></tr>

  <td rowspan="4">CouponMapper.updateStatus</td>
	<tr><td>语法</td><td>boolean updateStatus(Integer id, CouponStatus status);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新优惠券状态</td></tr>

</table>

#### 7.4.2.3. BizRegionMapper模块
xzy
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>
  <td rowspan="4">BizRegionMapper.add</td>
	<tr><td>语法</td><td>boolean save(BizRegion bizRegion);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>数据库插入商圈</td></tr>
  <td rowspan="4">BizRegionMapper.findByName</td>
	<tr><td>语法</td><td>BizRegion findByName(String name);</td></tr>
	<tr><td>前置条件</td><td>数据库存在对应名字的商圈</td></tr>
	<tr><td>后置条件</td><td>数据库查找对应名字的商圈</td></tr>
  <td rowspan="4">BizRegionMapper.findAllNames</td>
	<tr><td>语法</td><td>ArrayList< BizRegion> findAllNames();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>数据库查找所有的商圈</td></tr>
</table>

#### 7.4.2.4. HotelEditMapper模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>
 <td rowspan="4">HotelEditMapper.add</td>  <tr><td>语法</td><td>boolean save(HotelEdit hotelEdit);</td></tr>
  <tr><td>前置条件</td><td>数据库中存在同样ID的hotel</td></tr>
  <tr><td>后置条件</td><td>系统更新酒店信息</td></tr>

 <td rowspan="4">HotelEditMapper.findByHotel</td>
  <tr><td>语法</td><td>ArrayList< HotelEdit> findByHotel(Integer hotelId);</td></tr>
  <tr><td>前置条件</td><td>无</td></tr>
  <tr><td>后置条件</td><td>系统返回根据酒店查找的酒店信息更改申请</td></tr>

 <td rowspan="4">HotelEditMapper.findByStatus</td>
  <tr><td>语法</td><td>ArrayList< HotelEdit> findByStatus(Integer status);</td></tr>
  <tr><td>前置条件</td><td>无</td></tr>
  <tr><td>后置条件</td><td>系统返回根据酒店申请状态查找的酒店信息修改申请</td></tr>

 <td rowspan="4">HotelEditMapper.findAllEdits</td>
  <tr><td>语法</td><td>ArrayList< HotelEdit> findAllEdits();</td></tr>
  <tr><td>前置条件</td><td>无</td></tr>
  <tr><td>后置条件</td><td>系统返回查找到的所有酒店信息修改申请</td></tr>

 <td rowspan="4">HotelEditMapper.reply</td>
  <tr><td>语法</td><td>boolean reply(HotelEditStatus status, String replyContent, LocalDateTime replyTime, Integer id);</td></tr>
  <tr><td>前置条件</td><td>数据库中存在同样ID的酒店</td></tr>
  <tr><td>后置条件</td><td>系统提示申请修改酒店信息结果返回</td></tr>
</table>

#### 7.4.2.5. HotelMapper模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">HotelMapper.add</td>
	<tr><td>语法</td><td>int save(Hotel hotel);</td></tr>
	<tr><td>前置条件</td><td>该酒店信息格式正确</td></tr>
	<tr><td>后置条件</td><td>系统增添酒店进入数据库</td></tr>

  <td rowspan="4">HotelMapper.selectByManagerId</td>
	<tr><td>语法</td><td>Integer selectByManagerId(Integer managerId);</td></tr>
	<tr><td>前置条件</td><td>管理员Id存在</td></tr>
	<tr><td>后置条件</td><td>系统返回按照酒店工作人员Id匹配的酒店</td></tr>

  <td rowspan="4">HotelMapper.selectById</td>
	<tr><td>语法</td><td>Hotel selectById(Integer id);</td></tr>
	<tr><td>前置条件</td><td>酒店Id存在</td></tr>
	<tr><td>后置条件</td><td>系统返回与酒店Id匹配的酒店</td></tr>

  <td rowspan="4">HotelMapper.selectByMId</td>
	<tr><td>语法</td><td>Hotel selectByMId(int managerId);</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员Id存在</td></tr>
	<tr><td>后置条件</td><td>系统返回按照酒店工作人员Id匹配的酒店</td></tr>

  <td rowspan="4">HotelMapper.selectAllHotel</td>
	<tr><td>语法</td><td>List< Hotel> selectAllHotel();</td></tr>
	<tr><td>前置条件</td><td>酒店非空</td></tr>
	<tr><td>后置条件</td><td>系统返回所有酒店</td></tr>

  <td rowspan="4">HotelMapper.updateHotel</td>
	<tr><td>语法</td><td>boolean updateHotel(String hotelName, String hotelDescription,String phoneNum,String hotelServe, String picture, Integer id);</td></tr>
	<tr><td>前置条件</td><td>酒店信息格式正确</td></tr>
	<tr><td>后置条件</td><td>系统更新对应酒店的基本信息</td></tr>

  <td rowspan="4">HotelMapper.updateManager</td>
	<tr><td>语法</td><td>boolean updateManager(int id, int managerId);</td></tr>
	<tr><td>前置条件</td><td>酒店工作人员Id不重复且符合格式</td></tr>
	<tr><td>后置条件</td><td>系统更新相关酒店的酒店工作人员</td></tr>

  <td rowspan="4">HotelMapper.updateManagergetHotelIds</td>
	<tr><td>语法</td><td>List< Integer> getHotelIds();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回所有系统中的酒店ID</td></tr>
</table>

#### 7.4.2.6. HotelServeMapper模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">HotelServeMapper.add</td>
	<tr><td>语法</td><td>boolean save(HotelServe hotelServe);</td></tr>
	<tr><td>前置条件</td><td>酒店服务名称不能重名</td></tr>
	<tr><td>后置条件</td><td>系统记录酒店服务</td></tr>

  <td rowspan="4">HotelServeMapper.selectByName</td>
	<tr><td>语法</td><td>HotelServe selectByName(String name);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据名称返回酒店服务</td></tr>

  <td rowspan="4">HotelServeMapper.selectAllNames</td>
	<tr><td>语法</td><td>ArrayList< HotelServe> selectAllNames();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回所有酒店服务</td></tr>
</table>

#### 7.4.2.7. RoomMapper模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>
  <td rowspan="4">RoomMapper.add</td>
	<tr><td>语法</td><td>int save(HotelRoom hotelRoom);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>数据库插入房间</td></tr>
  <td rowspan="4">RoomMapper.getRoomCurNum</td>
	<tr><td>语法</td><td>int getRoomCurNum(Integer hotelId, String roomType);</td></tr>
	<tr><td>前置条件</td><td>数据库存在对应酒店和类型的房间</td></tr>
	<tr><td>后置条件</td><td>数据库查找对应酒店和类型的房间数量</td></tr>
  <td rowspan="4">RoomMapper.findByHotelAndType</td>
	<tr><td>语法</td><td>HotelRoom findByHotelAndType(Integer hotelId, String roomType);</td></tr>
	<tr><td>前置条件</td><td>数据库存在对应酒店和类型的房间</td></tr>
	<tr><td>后置条件</td><td>数据库查找对应酒店和类型的房间信息</td></tr>
  <td rowspan="4">RoomMapper.findRoomsByHotelId/td>
	<tr><td>语法</td><td>List< HotelRoom> findRoomsByHotelId(Integer hotelId);</td></tr>
	<tr><td>前置条件</td><td>数据库存在对应ID的酒店</td></tr>
	<tr><td>后置条件</td><td>数据库查找对应酒店的房间</td></tr>
  <td rowspan="4">RoomMapper.updateRoomInfo</td>
	<tr><td>语法</td><td>int updateRoomInfo(Integer hotelId, String roomType, String AfterNum);</td></tr>
	<tr><td>前置条件</td><td>数据库存在对应酒店和类型的房间</td></tr>
	<tr><td>后置条件</td><td>数据库更新对应酒店和类型的房间数量</td></tr>
  <td rowspan="4">RoomMapper.delRoom</td>
	<tr><td>语法</td><td>boolean delRoom(Integer id);</td></tr>
	<tr><td>前置条件</td><td>数据库存在对应ID的房间</td></tr>
	<tr><td>后置条件</td><td>数据库删除对应ID的房间</td></tr>
</table>


#### 7.4.2.8. RoomTypeMapper模块
<table>
	 <tr><th colspan = "3">提供的服务(供接口)</th></tr>

 <td rowspan="4">RoomTypeMapper.add</td>
  <tr><td>语法</td><td>boolean save(RoomType roomType);</td></tr>
  <tr><td>前置条件</td><td>无</td></tr>
  <tr><td>后置条件</td><td>系统添加新的房间类型</td></tr>

 <td rowspan="4">RoomTypeMapper.selectByName</td>
  <tr><td>语法</td><td>RoomType selectByName(String name);</td></tr>
  <tr><td>前置条件</td><td>无</td></tr>
  <tr><td>后置条件</td><td>系统根据房间类型名称查找房间类型</td></tr>

 <td rowspan="4">RoomTypeMapper.selectAllNames</td>
  <tr><td>语法</td><td>ArrayList< RoomType> selectAllNames();</td></tr>
  <tr><td>前置条件</td><td>无</td></tr>
  <tr><td>后置条件</td><td>系统查找所有的房间类型</td></tr>
</table>

#### 7.4.2.9. Comment模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">CommentMapper.add</td>
	<tr><td>语法</td><td>int save(Comment comment);</td></tr>
	<tr><td>前置条件</td><td>该评论格式正确</td></tr>
	<tr><td>后置条件</td><td>系统将该评论添加入数据库中</td></tr>

  <td rowspan="4">CommentMapper.selectById</td>
	<tr><td>语法</td><td>Comment selectById(Integer id);</td></tr>
	<tr><td>前置条件</td><td>该Id存在</td></tr>
	<tr><td>后置条件</td><td>系统通过该Id查询对应的评论返回</td></tr>

  <td rowspan="4">CommentMapper.selectByOid</td>
	<tr><td>语法</td><td>List< Comment> selectByOid(Integer oid, Integer page);</td></tr>
	<tr><td>前置条件</td><td>该Oid存在</td></tr>
	<tr><td>后置条件</td><td>系统通过该OId查询对应的评论并返回</td></tr>

  <td rowspan="4">CommentMapper.selectAll</td>
	<tr><td>语法</td><td>List< Comment> selectAll(Integer page);</td></tr>
	<tr><td>前置条件</td><td>评论非空</td></tr>
	<tr><td>后置条件</td><td>系统返回所有评论</td></tr>

</table>

#### 7.4.2.10. OrderMapper模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">OrderMapper.add</td>
	<tr><td>语法</td><td>int save(Order order);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统记录订单信息</td></tr>

  <td rowspan="4">OrderMapper.findById</td>
	<tr><td>语法</td><td>Order findById(Integer id);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据编号返回订单信息</td></tr>

  <td rowspan="4">OrderMapper.findByUser</td>
	<tr><td>语法</td><td>List< Order> findByUser(Integer userId);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据用户编号返回订单信息</td></tr>

  <td rowspan="4">OrderMapper.findByHotel</td>
	<tr><td>语法</td><td>List< Order> findByHotel(Integer hotelId);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据酒店编号返回订单信息</td></tr>

  <td rowspan="4">OrderMapper.findAllOrders</td>
	<tr><td>语法</td><td>List< Order> findAllOrders();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回所有订单信息</td></tr>

  <td rowspan="4">OrderMapper.updateOrder</td>
	<tr><td>语法</td><td>int updateOrder(LocalDateTime checkInDate, LocalDateTime checkOutDate, boolean haveChild, Integer peopleNum, Integer id);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新订单信息</td></tr>

  <td rowspan="4">OrderMapper.updateOrderState</td>
	<tr><td>语法</td><td>boolean updateOrderState(Integer id, OrderState orderState);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新订单状态</td></tr>

  <td rowspan="4">OrderMapper.selectByOid</td>
	<tr><td>语法</td><td>comment selectByOid(Integer oid)</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回订单的帖子</td></tr>

  <td rowspan="4">OrderMapper.getAvgRate</td>
	<tr><td>语法</td><td>Double getAvgRate(Integer hotelId);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回酒店的平均评分</td></tr>

  <td rowspan="4">OrderMapper.findByUidAndOid</td>
	<tr><td>语法</td><td>comment findByUidAndOid(Integer orderId, Integer userId);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回一个用户的订单的帖子</td></tr>

  <td rowspan="4">OrderMapper.findByHotelId</td>
	<tr><td>语法</td><td>List< comment> findByHotelId(Integer hotelId, Integer page);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回酒店的10条帖子</td></tr>

  <td rowspan="4">OrderMapper.findByUserAndHotel</td>
	<tr><td>语法</td><td>List< hotelorder> findByUserAndHotel(Integer userId, Integer hotelId);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回酒店的所有订单</td></tr>

  <td rowspan="4">OrderMapper.updatePassDate</td>
	<tr><td>语法</td><td>int updatePassDate(Integer id, LocalDateTime realPassDate);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新订单的实际通过时间</td></tr>

  <td rowspan="4">OrderMapper.updateRefuseDate</td>
	<tr><td>语法</td><td>int updateRefuseDate(Integer id, LocalDateTime realRefuseDate);;</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新订单的实际拒绝时间</td></tr>

  <td rowspan="4">OrderMapper.updateCancelDate</td>
	<tr><td>语法</td><td>int updateCancelDate(Integer id, LocalDateTime realCancelDate);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新订单的实际取消时间</td></tr>

  <td rowspan="4">OrderMapper.updateCheckInDate</td>
	<tr><td>语法</td><td>int updateCheckInDate(Integer id, LocalDateTime realCheckInDate);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新订单的实际入住时间</td></tr>

  <td rowspan="4">OrderMapper.updateCheckOutDate</td>
	<tr><td>语法</td><td>int updateCheckOutDate(Integer id, LocalDateTime realCheckOutDate);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新订单的实际退房时间</td></tr>

  <td rowspan="4">OrderMapper.updateErrorDate</td>
	<tr><td>语法</td><td>int updateErrorDate(Integer id, LocalDateTime realErrorDate);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统更新订单的实际异常时间</td></tr>
</table>

#### 7.4.2.11. ReplyMapper模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>

  <td rowspan="4">ReplyMapper.add</td>
	<tr><td>语法</td><td>int save(Reply reply);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统记录回复信息</td></tr>

  <td rowspan="4">ReplyMapper.selectById</td>
	<tr><td>语法</td><td>Reply selectById(Integer id);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据回复编号返回回复信息</td></tr>

  <td rowspan="4">ReplyMapper.selectByCid</td>
	<tr><td>语法</td><td>ArrayList< Reply> selectByCid(Integer cid, Integer page);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据Comment编号返回所有回复</td></tr>

  <td rowspan="4">ReplyMapper.selectByRid</td>
	<tr><td>语法</td><td>ArrayList< Reply> selectByRid(Integer rid, Integer page);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统根据回复编号返回所有对应的二级回复</td></tr>

  <td rowspan="4">ReplyMapper.selectByUid</td>
	<tr><td>语法</td><td>ArrayList< Reply> selectByUid(Integer uid, Integer page);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>系统返回用户的所有的回复</td></tr>

</table>

#### 7.4.2.12. UserMapper模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>
  <td rowspan="4">UserMapper.add</td>
	<tr><td>语法</td><td>int save(User user);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>数据库插入用户信息</td></tr>
  <td rowspan="4">UserMapper.findByEmail</td>
	<tr><td>语法</td><td>User findByEmail(String email);</td></tr>
	<tr><td>前置条件</td><td>数据库存在对应邮箱的用户</td></tr>
	<tr><td>后置条件</td><td>数据库查找对应邮箱的用户</td></tr>
  <td rowspan="4">UserMapper.updateUser</td>
	<tr><td>语法</td><td>int updateUser(Integer id, String url, String userName, String phoneNumber);</td></tr>
	<tr><td>前置条件</td><td>数据库存在对应ID的用户</td></tr>
	<tr><td>后置条件</td><td>数据库更新对应ID用户的头像，姓名，手机</td></tr>
  <td rowspan="4">UserMapper.updatePassWord</td>
	<tr><td>语法</td><td>int updatePassWord(Integer id, String password);</td></tr>
	<tr><td>前置条件</td><td>数据库存在对应ID的用户</td></tr>
	<tr><td>后置条件</td><td>数据库更新对应ID用户的密码</td></tr>
  <td rowspan="4">UserMapper.updateCredit</td>
	<tr><td>语法</td><td>int updateCredit(Integer id, double credit);</td></tr>
	<tr><td>前置条件</td><td>数据库存在对应ID的用户</td></tr>
	<tr><td>后置条件</td><td>数据库更新对应ID用户的信用值</td></tr>
  <td rowspan="4">UserMapper.updateVIP</td>
	<tr><td>语法</td><td>int updateVIP(Integer id, VIPType vipType, String vipInfo);</td></tr>
	<tr><td>前置条件</td><td>数据库存在对应ID的用户</td></tr>
	<tr><td>后置条件</td><td>数据库更新对应ID用户的VIP信息</td></tr>
  <td rowspan="4">UserMapper.updateVIPEnterprise</td>
	<tr><td>语法</td><td>int updateVIPEnterprise(Integer id,String vipType, String vipInfo);</td></tr>
	<tr><td>前置条件</td><td>数据库存在对应ID的用户</td></tr>
	<tr><td>后置条件</td><td>数据库更新对应ID用户的用户类型为企业会员并更新VIP信息</td></tr>
  <td rowspan="4">UserMapper.getAllManagers</td>
	<tr><td>语法</td><td>List< User> getAllManagers();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>数据库查找所有酒店工作人员</td></tr>
  <td rowspan="4">UserMapper.updateTotalCredit</td>
	<tr><td>语法</td><td>int updateTotalCredit(Integer id, double credit);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>数据库更新用户的累积信用值</td></tr>
    <td rowspan="4">UserMapper.updateVIPLevel</td>
	<tr><td>语法</td><td>int updateVIPLevel(Integer id, Integer vipType);</td></tr>
	<tr><td>前置条件</td><td>数据库存在对应ID的用户</td></tr>
	<tr><td>后置条件</td><td>数据库更新用户的VIP等级</td></tr>
</table>


#### 7.4.2.13. HotelSituationMapper模块
<table>
	<tr><th colspan = "3">提供的服务(供接口)</th></tr>
  <td rowspan="4">HotelSituationMapper.findLatestHotel</td>
	<tr><td>语法</td><td>hotelsituation findLatestHotel(Integer hotelId);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>数据库查找到对应酒店的最新一天的记录</td></tr>

  <td rowspan="4">HotelSituationMapper.selectByHotelId</td>
	<tr><td>语法</td><td>List< hotelsituation> selectByHotelId(Integer hotelId);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>数据库查找到对应酒店的所有每日记录</td></tr>

  <td rowspan="4">HotelSituationMapper.selectAll</td>
	<tr><td>语法</td><td>List< hotelsituation> selectAll();</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>数据库查找到所有酒店的所有每日的记录</td></tr>

  <td rowspan="4">HotelSituationMapper.updateClientNum</td>
	<tr><td>语法</td><td>int updateClientNum(Integer hotelId, String today, Integer clientNum);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>数据库更新对应酒店的ClientNum</td></tr>

  <td rowspan="4">HotelSituationMapper.updateVIPNum</td>
	<tr><td>语法</td><td>int updateVIPNum(Integer hotelId, String today, Integer VIPNum);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>数据库更新对应酒店的VIPNum</td></tr>

  <td rowspan="4">HotelSituationMapper.updateOrderDoneNum</td>
	<tr><td>语法</td><td>int updateOrderDoneNum(Integer hotelId, String today, Integer orderDoneNum);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>数据库更新对应酒店的OrderDoneNum</td></tr>

  <td rowspan="4">HotelSituationMapper.updateOrderBadNum</td>
	<tr><td>语法</td><td>int updateOrderBadNum(Integer hotelId, String today, Integer orderBadNum);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>数据库更新对应酒店的OrderBadNum</td></tr>

  <td rowspan="4">HotelSituationMapper.updateTotalClientNum</td>
	<tr><td>语法</td><td>int updateTotalClientNum(Integer hotelId, String today, Integer totalClientNum);</td></tr>
	<tr><td>前置条件</td><td>无</td></tr>
	<tr><td>后置条件</td><td>数据库更新对应酒店的TotalClientNum</td></tr>
</table>

## 7.5. 信息视角
- 系统的PO类包含用户的对应的相关的实体类

### 7.5.1. Bill类
- 包含账单编号、用户的ID、网站营销人员的ID、充值的信用值、创建时间、账单详情。
- Coupon类的属性如下
```java
public class Bill {
    private Integer id;
    private Integer uid;
    private Integer mid;
    private Double credit;
    private LocalDateTime createTime;
    private String content;
}
```

### 7.5.2. Coupon类
- 包含优惠券编号、优惠券描述、所属酒店编号、优惠券类型、优惠券名字、目标金额(目标房间数)、折扣，订单状态，订单生效时间、订单失效时间、订单折扣金额、订单优惠的类型。
- Coupon类如下
```java
public class Coupon {
    private Integer id;
    private String description;
    private Integer hotelId;
    private CouponType couponType;
    private String couponName;
    private double targetMoney;
    private double discount;
    private CouponStatus status;
    private LocalDateTime startTime;
    private LocalDateTime endTime;
    private double discountMoney;
    private Integer type;
}
```

### 7.5.3. BizRegion类
- 包含商圈编号、商圈名称、创建商圈的用户ID、创建时间。
- BizRegion类如下。
```java
public class BizRegion {
    private Integer id;
    private String name;
    private Integer uid;
    private LocalDateTime createTime;
}
```

### 7.5.4. Hotel类
- 包含酒店编号、酒店名称、酒店描述、酒店地址、酒店商圈、酒店星级、酒店电话号、酒店评分、酒店的管理员ID、酒店服务、酒店照片、酒店经度、酒店维度、酒店进入系统时间。
- Hotel类如下。
```java
public class Hotel {
    private Integer id;
    private String hotelName;
    private String hotelDescription;
    private String address;
    private String bizRegion;
    private HotelStar hotelStar;
    private String phoneNum;
    private double rate;
    private Integer managerId;
    private String hotelServe;
    private String picture;
    private double longitude;
    private double latitude;
    private LocalDateTime createTime;
}
```

### 7.5.5. HotelEdit类
- 包含酒店修改申请编号、酒店名称、酒店描述、酒店电话、酒店ID、酒店服务、酒店照片、创建时间、申请状态、申请回复内容、申请恢复时间。
- HotelEdit类

```java
public class HotelEdit {
    private Integer id;
    private String hotelName;
    private String hotelDescription;
    private String phoneNum;
    private Integer hotelId;
    private String hotelServe;
    private String picture;
    private LocalDateTime createTime;
    private HotelEditStatus status;
    private String replyContent;
    private LocalDateTime replyTime;
}
```

### 7.5.6. HotelRoom类
- 包含酒店房间编号、酒店房间单价、剩余房间数量、房间总数、房间所属的酒店ID、房间类型、房间最大可容纳人数、房间服务、房间图片。
- HotelRoom类
```java
public class HotelRoom {
    private Integer id;
    private Double price;
    private String curNum;
    private Integer total;
    private Integer hotelId;
    private String roomType;
    private Integer validPeople;
    private String serve;
	private String url;
}
```

### 7.5.7. HotelServe类
- 包含酒店服务变化、酒店服务名称、创建用户的ID、创建时间。
- HotelServe类
```java
public class HotelServe {
    private Integer id;
    private String name;
    private Integer uid;
    private LocalDateTime createTime;
}
```

### 7.5.8. RoomType类
- 包含房间类型编号、房间类型名称、创建房间类型的用户的ID、创建时间。
```java
public class RoomType {
    private Integer id;
    private String name;
    private Integer uid;
    private LocalDateTime createTime;
}
```

### 7.5.9. Comment类
- 包含订单回复编号、用户的ID、订单的ID、评论图片的网址、评论的内容、发表时间、酒店评分。
- Comment类如下
```java
public class Comment {
    private Integer id;
    private Integer uid;
    private Integer oid;
    private String url;
    private String content;
    private LocalDateTime createTime;
    private Double rate;
}
```

### 7.5.10. HotelOrder类
- 包含订单编号、订单发起用户的ID、订单的酒店的ID、订单酒店的名字、订单入住时间、订单退房时间、订单实际接受时间、订单实际拒绝时间、订单实际取消时间、订单实际入住时间、订单实际退房时间、订单实际异常时间、订单房间类型、订单房间数量、订单入住人数、是否有儿童、创建时间、订单价格、订单用户名、用户手机号、订单状态。
- Order类如下
```java
public class HotelOrder {
    private Integer id;
    private Integer userId;
    private Integer hotelId;
    private String hotelName;
    private LocalDateTime checkInDate;
    private LocalDateTime checkOutDate;
    private LocalDateTime realPassDate;
    private LocalDateTime realRefuseDate;
    private LocalDateTime realCancelDate;
    private LocalDateTime realCheckInDate;
    private LocalDateTime realCheckOutDate;
    private LocalDateTime realErrorDate;
    private String roomType;
    private Integer roomNum;
    private Integer peopleNum;
    private boolean haveChild;
    private LocalDateTime createDate;
    private Double price;
    private String clientName;
    private String phoneNumber;
    private OrderState orderState;
}
```

### 7.5.11. Reply类
- 包含评论的ID、评论的回复的ID、评论的父评论ID、评论的用户ID、评论的用户名、评论的内容、评论的创建时间。
- Reply类如下。
```java
public class Reply {
    private Integer id;
    private Integer cid;
    private Integer rid;
    private Integer uid;
    private String username;
    private String content;
    private LocalDateTime createTime;
}
```

### 7.5.12. User类
- 包含用户编号、用户头像Url、用户的邮箱、用户的密码、用户名、用户手机号、用户信用值余额、用户的VIP类型、用户的VIP等级信息、用户类型、用户总信用值。
- User类如下
```java
public class User {
    private Integer id;
    private String url;
    private String email;
    private String password;
    private String userName;
    private String phoneNumber;
    private double credit;
    private VIPType vipType;
    private String vipInfo;
    private UserType userType;
    private double totalcredit;
}
```

### 7.5.13. HotelSituation类
- 包含酒店每日情况ID、酒店ID、对应日期、新入住客户总数、每天完成的订单数量、每天订单撤销/异常订单总数、每天酒店有多少人入住、房间总数。
```java
public class hotelsituation {
    private Integer id;
    private Integer hotelId;
    private String today;
    private Integer clientNum;
    private Integer vipNum;
    private Integer orderDoneNum;
    private Integer orderBadNum;
    private Integer totalClientNum;
    private Integer roomTotalNumber;
}
```